{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ilker\\\\Desktop\\\\aibrands\\\\frontend\\\\src\\\\pages\\\\admin\\\\ChannelDetailOptimized.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { socialMediaChannelsAPI } from '../../api/socialMediaChannels';\nimport { ArrowLeft, RefreshCw, Users, MessageSquare, Send, Paperclip, X, Image as ImageIcon, Video, FileText, CheckCircle, XCircle, Trash2, Download, UserPlus, Building2, BarChart3, TrendingUp, Bot } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport api from '../../utils/api';\nimport { format } from 'date-fns';\nimport { AssignUsersModal } from '../../components/channels/AssignUsersModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChannelDetailOptimized = () => {\n  _s();\n  var _user$permissions, _user$permissions2;\n  const {\n    channelId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    loading: authLoading\n  } = useAuth();\n\n  // State\n  const [channel, setChannel] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAssignUsersModal, setShowAssignUsersModal] = useState(false);\n  const [assignedUsers, setAssignedUsers] = useState([]);\n  const [statistics, setStatistics] = useState(null);\n  const [botInfo, setBotInfo] = useState(null);\n  const [assignedUsersStats, setAssignedUsersStats] = useState([]);\n  const [showStats, setShowStats] = useState(true);\n\n  // Message input\n  const [messageText, setMessageText] = useState('');\n  const [mediaFiles, setMediaFiles] = useState([]);\n  const [isSending, setIsSending] = useState(false);\n\n  // Refs\n  const messagesEndRef = useRef(null);\n  const pollIntervalRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const lastMessageCountRef = useRef(0);\n\n  // Scroll to bottom\n  const scrollToBottom = useCallback(() => {\n    setTimeout(() => {\n      var _messagesEndRef$curre;\n      (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }, 100);\n  }, []);\n\n  // Load channel\n  const loadChannel = useCallback(async () => {\n    if (!channelId) return;\n    try {\n      const data = await socialMediaChannelsAPI.getChannel(Number(channelId));\n      setChannel(data);\n    } catch (error) {\n      toast.error('Kanal bilgileri yüklenemedi');\n      navigate('/admin/social-media/channels');\n    }\n  }, [channelId, navigate]);\n\n  // Load assigned users\n  const loadAssignedUsers = useCallback(async () => {\n    if (!channelId) return;\n    try {\n      const response = await socialMediaChannelsAPI.getChannelAssignedUsers(Number(channelId));\n      setAssignedUsers(response.assigned_users || []);\n    } catch (error) {\n      // Silently handle error - assigned users are not critical\n    }\n  }, [channelId]);\n\n  // Load statistics\n  const loadStatistics = useCallback(async () => {\n    if (!channelId) return;\n    try {\n      const response = await api.get(`/api/social-media/channels/${channelId}/statistics`);\n      setStatistics(response.data.statistics);\n      setBotInfo(response.data.bot);\n      setAssignedUsersStats(response.data.assigned_users || []);\n    } catch (error) {\n      console.error('Statistics load error:', error);\n    }\n  }, [channelId]);\n\n  // Load messages\n  const loadMessages = useCallback(async (silent = false) => {\n    if (!channelId) return;\n    try {\n      if (!silent) setLoading(true);\n      const response = await api.get(`/api/social-media/channels/${channelId}/messages`, {\n        params: {\n          per_page: 500\n        }\n      });\n      const fetchedMessages = response.data.messages || [];\n\n      // Check for new messages\n      const hasNewMessages = fetchedMessages.length > lastMessageCountRef.current;\n      lastMessageCountRef.current = fetchedMessages.length;\n      setMessages(fetchedMessages);\n\n      // Auto-scroll on new messages\n      if (hasNewMessages) {\n        scrollToBottom();\n      }\n    } catch (error) {\n      if (!silent) toast.error('Mesajlar yüklenemedi');\n    } finally {\n      setLoading(false);\n    }\n  }, [channelId, scrollToBottom]);\n\n  // Initial load\n  useEffect(() => {\n    if (authLoading) return;\n    if (!user) {\n      navigate('/login', {\n        replace: true\n      });\n      return;\n    }\n    loadChannel();\n    loadAssignedUsers();\n    loadMessages();\n    loadStatistics();\n  }, [authLoading, user, navigate, loadChannel, loadAssignedUsers, loadMessages, loadStatistics]);\n\n  // Real-time polling (every 3 seconds)\n  useEffect(() => {\n    if (!channelId) return;\n    pollIntervalRef.current = setInterval(() => {\n      loadMessages(true);\n    }, 3000);\n    return () => {\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n    };\n  }, [channelId, loadMessages]);\n\n  // File handling\n  const handleFileChange = e => {\n    if (!e.target.files) return;\n    const files = Array.from(e.target.files);\n\n    // Dosya sayısı kontrolü\n    if (files.length + mediaFiles.length > 50) {\n      toast.error('En fazla 50 dosya ekleyebilirsiniz');\n      return;\n    }\n\n    // Dosya boyutu kontrolü (her dosya max 50MB)\n    const maxSize = 50 * 1024 * 1024; // 50MB\n    const oversizedFiles = files.filter(f => f.size > maxSize);\n    if (oversizedFiles.length > 0) {\n      toast.error(`Bazı dosyalar çok büyük (max 50MB): ${oversizedFiles.map(f => f.name).join(', ')}`);\n      return;\n    }\n    setMediaFiles(prev => [...prev, ...files]);\n    toast.success(`${files.length} dosya eklendi`);\n  };\n  const removeFile = index => {\n    setMediaFiles(prev => prev.filter((_, i) => i !== index));\n  };\n  const clearAllFiles = () => {\n    setMediaFiles([]);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  // Send message - TAM ÇALIŞIR VERSİYON\n  const handleSendMessage = async e => {\n    e.preventDefault();\n\n    // Validasyon\n    if (!channelId) {\n      toast.error('Kanal ID bulunamadı');\n      return;\n    }\n    if (!messageText.trim() && mediaFiles.length === 0) {\n      toast.error('Lütfen mesaj yazın veya dosya ekleyin');\n      return;\n    }\n    if (isSending) return;\n    setIsSending(true);\n    const textToSend = messageText.trim();\n    const filesToSend = [...mediaFiles];\n\n    // Clear inputs immediately for better UX\n    setMessageText('');\n    clearAllFiles();\n    try {\n      // SENARYO 1: Sadece metin (dosya yok)\n      if (filesToSend.length === 0 && textToSend) {\n        await api.post(`/api/social-media/channels/${channelId}/messages`, {\n          message_text: textToSend,\n          message_type: 'text'\n        });\n        toast.success('✅ Mesaj gönderildi!');\n      }\n\n      // SENARYO 2: Tek dosya + metin (opsiyonel)\n      else if (filesToSend.length === 1) {\n        const file = filesToSend[0];\n        const formData = new FormData();\n        formData.append('file', file);\n        if (textToSend) {\n          formData.append('message_text', textToSend);\n        }\n        await api.post(`/api/social-media/channels/${channelId}/messages/upload`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        toast.success(`✅ ${textToSend ? 'Mesaj ve dosya' : 'Dosya'} gönderildi!`);\n      }\n\n      // SENARYO 3: Çoklu dosya + metin (opsiyonel)\n      else if (filesToSend.length > 1) {\n        let successCount = 0;\n        let failCount = 0;\n\n        // İlk dosyaya metni ekle\n        for (let i = 0; i < filesToSend.length; i++) {\n          const file = filesToSend[i];\n          try {\n            const formData = new FormData();\n            formData.append('file', file);\n\n            // Sadece ilk dosyaya metin ekle\n            if (i === 0 && textToSend) {\n              formData.append('message_text', textToSend);\n            }\n            await api.post(`/api/social-media/channels/${channelId}/messages/upload`, formData, {\n              headers: {\n                'Content-Type': 'multipart/form-data'\n              }\n            });\n            successCount++;\n\n            // Rate limiting: Her dosya arasında 500ms bekle\n            if (i < filesToSend.length - 1) {\n              await new Promise(resolve => setTimeout(resolve, 500));\n            }\n          } catch (error) {\n            failCount++;\n            console.error(`Dosya gönderimi başarısız: ${file.name}`, error);\n            toast.error(`❌ ${file.name} gönderilemedi`, {\n              duration: 2000\n            });\n          }\n        }\n\n        // Özet mesaj\n        if (successCount > 0) {\n          toast.success(`✅ ${successCount}/${filesToSend.length} dosya gönderildi!`);\n        }\n        if (failCount > 0) {\n          toast.error(`⚠️ ${failCount} dosya gönderilemedi`);\n        }\n      }\n\n      // Mesajları yenile\n      setTimeout(() => {\n        loadMessages(true);\n        scrollToBottom();\n      }, 2000);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Mesaj gönderme hatası:', error);\n      const errorMessage = (error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message || 'Mesaj gönderilemedi';\n      toast.error(`❌ ${errorMessage}`);\n\n      // Hata durumunda girişleri geri yükle\n      if (textToSend) setMessageText(textToSend);\n      if (filesToSend.length > 0) setMediaFiles(filesToSend);\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  // Sync from Telegram\n  const handleTelegramSync = async () => {\n    try {\n      toast.loading('Telegram mesajları senkronize ediliyor...', {\n        duration: 2000\n      });\n      await api.post(`/api/social-media/channels/${channelId}/sync-messages`);\n      toast.success('Mesajlar senkronize ediliyor');\n      setTimeout(() => loadMessages(true), 3000);\n    } catch (error) {\n      toast.error('Senkronizasyon başarısız');\n    }\n  };\n\n  // Clear all messages\n  const handleClearMessages = async () => {\n    if (!window.confirm('Tüm mesajları silmek istediğinizden emin misiniz?')) return;\n    try {\n      toast.loading('Mesajlar temizleniyor...', {\n        id: 'clear'\n      });\n      const response = await api.delete(`/api/social-media/channels/${channelId}/messages/clear`);\n      setMessages([]);\n      lastMessageCountRef.current = 0;\n      toast.success(`✅ ${response.data.deleted_count} mesaj temizlendi!`, {\n        id: 'clear'\n      });\n    } catch (error) {\n      toast.error('Mesajlar temizlenemedi', {\n        id: 'clear'\n      });\n    }\n  };\n\n  // Render file icon\n  const renderFileIcon = type => {\n    if (type === 'image') return /*#__PURE__*/_jsxDEV(ImageIcon, {\n      size: 16,\n      className: \"text-blue-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 34\n    }, this);\n    if (type === 'video') return /*#__PURE__*/_jsxDEV(Video, {\n      size: 16,\n      className: \"text-purple-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 34\n    }, this);\n    return /*#__PURE__*/_jsxDEV(FileText, {\n      size: 16,\n      className: \"text-gray-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 12\n    }, this);\n  };\n\n  // Loading states\n  if (authLoading || loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }, this);\n  }\n  if (!channel) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-b border-gray-200 px-4 py-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/admin/social-media/channels'),\n            className: \"p-2 hover:bg-gray-100 rounded-lg transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: channel.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3 text-xs text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this), messages.length, \" mesaj\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this), channel.member_count || 0, \" \\xFCye\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Building2, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 19\n                }, this), channel.brand_name || 'Marka']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this), channel.is_active ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center gap-1 text-green-600\",\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 21\n                }, this), \"Aktif\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center gap-1 text-red-600\",\n                children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 21\n                }, this), \"Pasif\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowStats(!showStats),\n            className: `flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg transition-colors ${showStats ? 'bg-indigo-100 text-indigo-700' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,\n            title: \"\\u0130statistikleri G\\xF6ster/Gizle\",\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this), \"\\u0130statistikler\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this), ((user === null || user === void 0 ? void 0 : (_user$permissions = user.permissions) === null || _user$permissions === void 0 ? void 0 : _user$permissions.includes('social.manage')) || (user === null || user === void 0 ? void 0 : (_user$permissions2 = user.permissions) === null || _user$permissions2 === void 0 ? void 0 : _user$permissions2.includes('brands.manage'))) && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAssignUsersModal(true),\n            className: \"flex items-center gap-2 px-3 py-1.5 text-sm bg-purple-50 text-purple-600 hover:bg-purple-100 rounded-lg transition-colors\",\n            title: \"Kullan\\u0131c\\u0131 Y\\xF6net\",\n            children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), \"Kullan\\u0131c\\u0131 (\", assignedUsers.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleTelegramSync,\n            className: \"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors\",\n            title: \"Telegram'dan Mesajlar\\u0131 \\xC7ek\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this), \"Sync\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this), ((user === null || user === void 0 ? void 0 : user.role) === 'Super Admin' || (user === null || user === void 0 ? void 0 : user.role) === 'Mağaza Yöneticisi') && messages.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleClearMessages,\n            className: \"flex items-center gap-2 px-3 py-1.5 text-sm bg-red-50 text-red-600 hover:bg-red-100 rounded-lg transition-colors\",\n            title: \"T\\xFCm mesajlar\\u0131 temizle\",\n            children: [/*#__PURE__*/_jsxDEV(Trash2, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this), \"Temizle\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 7\n    }, this), showStats && statistics && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-b border-gray-200 px-4 py-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl border border-blue-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-medium text-blue-600 mb-1\",\n                children: \"Toplam Mesaj\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-blue-900\",\n                children: statistics.total_messages\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MessageSquare, {\n              className: \"text-blue-500\",\n              size: 32\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl border border-green-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-medium text-green-600 mb-1\",\n                children: \"G\\xF6nderilen Post\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-green-900\",\n                children: statistics.sent_posts\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Send, {\n              className: \"text-green-500\",\n              size: 32\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-xl border border-purple-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-medium text-purple-600 mb-1\",\n                children: \"Toplam \\xDCye\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-purple-900\",\n                children: statistics.total_members\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Users, {\n              className: \"text-purple-500\",\n              size: 32\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-xl border border-orange-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-medium text-orange-600 mb-1\",\n                children: \"Atanm\\u0131\\u015F \\xC7al\\u0131\\u015Fan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-orange-900\",\n                children: statistics.assigned_users_count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(UserPlus, {\n              className: \"text-orange-500\",\n              size: 32\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 11\n      }, this), botInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-indigo-50 to-indigo-100 p-4 rounded-xl border border-indigo-200 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(Bot, {\n            className: \"text-indigo-600\",\n            size: 28\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-semibold text-indigo-900\",\n              children: botInfo.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-indigo-600\",\n              children: botInfo.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [botInfo.is_active && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                size: 12\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 23\n              }, this), \"Aktif\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 21\n            }, this), botInfo.is_verified && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                size: 12\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 23\n              }, this), \"Do\\u011Frulanm\\u0131\\u015F\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 13\n      }, this), assignedUsersStats.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl border border-gray-200 overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-4 py-3 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-semibold text-gray-900 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n              size: 16,\n              className: \"text-gray-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 19\n            }, this), \"\\xC7al\\u0131\\u015Fan Performans\\u0131\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-50 border-b border-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-xs font-medium text-gray-600\",\n                  children: \"\\xC7al\\u0131\\u015Fan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-xs font-medium text-gray-600\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 566,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-right text-xs font-medium text-gray-600\",\n                  children: \"G\\xF6nderilen Post\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"divide-y divide-gray-200\",\n              children: assignedUsersStats.map(userStat => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-900 font-medium\",\n                  children: userStat.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 573,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-600\",\n                  children: userStat.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"inline-flex items-center justify-center px-3 py-1 bg-blue-100 text-blue-700 rounded-full font-semibold\",\n                    children: userStat.sent_messages\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 576,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 25\n                }, this)]\n              }, userStat.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 9\n    }, this), assignedUsers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 border-b border-gray-200 px-4 py-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-600\",\n          children: \"Atanan Kullan\\u0131c\\u0131lar:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-1\",\n          children: assignedUsers.map(user => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"inline-flex items-center gap-1 px-2 py-0.5 bg-white rounded-full border border-gray-200 text-xs text-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              size: 10\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 19\n            }, this), user.first_name, \" \", user.last_name]\n          }, user.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto px-4 py-4 space-y-2\",\n      children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center h-full text-gray-400\",\n        children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n          size: 48,\n          className: \"mb-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: \"Hen\\xFCz mesaj yok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs\",\n          children: \"A\\u015Fa\\u011F\\u0131dan mesaj g\\xF6nderin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 11\n      }, this) : messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${message.is_sent ? 'justify-end' : 'justify-start'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `max-w-[70%] rounded-lg px-3 py-2 ${message.is_sent ? 'bg-blue-500 text-white' : 'bg-white border border-gray-200 text-gray-900'} ${message.is_sending ? 'opacity-50' : ''}`,\n          children: [message.media_url && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [message.message_type === 'image' && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: message.media_url,\n              alt: message.file_name || 'Image',\n              className: \"max-w-full max-h-48 rounded cursor-pointer\",\n              onClick: () => window.open(message.media_url, '_blank')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 23\n            }, this), message.message_type === 'video' && /*#__PURE__*/_jsxDEV(\"video\", {\n              src: message.media_url,\n              controls: true,\n              className: \"max-w-full max-h-48 rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 23\n            }, this), message.message_type === 'document' && /*#__PURE__*/_jsxDEV(\"a\", {\n              href: message.media_url,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"flex items-center gap-2 text-sm hover:underline\",\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 25\n              }, this), message.file_name || 'Dosya']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 19\n          }, this), message.message_text && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm break-words\",\n            children: message.message_text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-xs mt-1 ${message.is_sent ? 'text-blue-100' : 'text-gray-400'}`,\n            children: format(new Date(message.timestamp), 'HH:mm')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 15\n        }, this)\n      }, message.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 611,\n      columnNumber: 7\n    }, this), mediaFiles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 border-t border-blue-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Paperclip, {\n            size: 16,\n            className: \"text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-blue-900\",\n            children: [mediaFiles.length, \" dosya se\\xE7ildi\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearAllFiles,\n          className: \"text-xs text-red-600 hover:text-red-700 font-medium flex items-center gap-1 hover:underline\",\n          children: [/*#__PURE__*/_jsxDEV(X, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 15\n          }, this), \"T\\xFCm\\xFCn\\xFC Kald\\u0131r\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 flex-wrap\",\n        children: mediaFiles.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group relative flex items-center gap-2 px-3 py-2 bg-white rounded-lg border border-blue-200 shadow-sm hover:shadow-md transition-all\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-1.5 bg-blue-100 rounded\",\n            children: renderFileIcon(file.type.split('/')[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs font-medium text-gray-900 max-w-[120px] truncate\",\n              children: file.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 705,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-[10px] text-gray-500\",\n              children: [(file.size / 1024).toFixed(1), \" KB\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 704,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeFile(index),\n            className: \"ml-2 p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors\",\n            title: \"Kald\\u0131r\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 681,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-gray-50 to-gray-100 border-t-2 border-gray-200 px-4 py-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSendMessage,\n        className: \"flex items-end gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: fileInputRef,\n          type: \"file\",\n          multiple: true,\n          accept: \"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt,.xlsx,.xls,.ppt,.pptx,.zip,.rar\",\n          onChange: handleFileChange,\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => {\n            var _fileInputRef$current;\n            return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n          },\n          className: \"flex-shrink-0 p-3 text-gray-600 hover:text-blue-600 bg-white hover:bg-blue-50 rounded-xl border border-gray-200 hover:border-blue-300 transition-all shadow-sm hover:shadow-md\",\n          disabled: isSending,\n          title: \"Dosya Ekle\",\n          children: /*#__PURE__*/_jsxDEV(Paperclip, {\n            size: 22\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: messageText,\n            onChange: e => setMessageText(e.target.value),\n            onKeyDown: e => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                handleSendMessage(e);\n              }\n            },\n            placeholder: \"Mesaj\\u0131n\\u0131z\\u0131 yaz\\u0131n... (Enter: G\\xF6nder, Shift+Enter: Yeni sat\\u0131r)\",\n            className: \"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none shadow-sm transition-all placeholder:text-gray-400\",\n            rows: 1,\n            disabled: isSending,\n            style: {\n              minHeight: '48px',\n              maxHeight: '120px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 13\n          }, this), messageText.trim() && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-2 right-2 text-xs text-gray-400\",\n            children: [messageText.length, \" karakter\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isSending || !messageText.trim() && mediaFiles.length === 0,\n          className: \"flex-shrink-0 p-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:from-gray-400 disabled:to-gray-500 group\",\n          title: isSending ? 'Gönderiliyor...' : 'Gönder',\n          children: isSending ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 22,\n            className: \"animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Send, {\n            size: 22,\n            className: \"group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 778,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mt-2 px-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 flex items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 13\n          }, this), \"Enter ile h\\u0131zl\\u0131ca g\\xF6nderin\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 785,\n          columnNumber: 11\n        }, this), mediaFiles.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 flex items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(Paperclip, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 791,\n            columnNumber: 15\n          }, this), \"Dosya ekleyebilirsiniz\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 784,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 7\n    }, this), showAssignUsersModal && channel && user && /*#__PURE__*/_jsxDEV(AssignUsersModal, {\n      channelId: channel.id,\n      channelName: channel.name,\n      brandId: channel.brand_id,\n      currentAssignedUserIds: channel.assigned_user_ids || [],\n      currentUserId: user.id,\n      onClose: () => setShowAssignUsersModal(false),\n      onSuccess: () => {\n        loadAssignedUsers();\n        loadChannel();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 800,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 386,\n    columnNumber: 5\n  }, this);\n};\n_s(ChannelDetailOptimized, \"UeWrEHOPW6x+VV2YD/YtH+ybteo=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = ChannelDetailOptimized;\nexport default ChannelDetailOptimized;\nvar _c;\n$RefreshReg$(_c, \"ChannelDetailOptimized\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useParams","useNavigate","useAuth","socialMediaChannelsAPI","ArrowLeft","RefreshCw","Users","MessageSquare","Send","Paperclip","X","Image","ImageIcon","Video","FileText","CheckCircle","XCircle","Trash2","Download","UserPlus","Building2","BarChart3","TrendingUp","Bot","toast","api","format","AssignUsersModal","jsxDEV","_jsxDEV","ChannelDetailOptimized","_s","_user$permissions","_user$permissions2","channelId","navigate","user","loading","authLoading","channel","setChannel","messages","setMessages","setLoading","showAssignUsersModal","setShowAssignUsersModal","assignedUsers","setAssignedUsers","statistics","setStatistics","botInfo","setBotInfo","assignedUsersStats","setAssignedUsersStats","showStats","setShowStats","messageText","setMessageText","mediaFiles","setMediaFiles","isSending","setIsSending","messagesEndRef","pollIntervalRef","fileInputRef","lastMessageCountRef","scrollToBottom","setTimeout","_messagesEndRef$curre","current","scrollIntoView","behavior","loadChannel","data","getChannel","Number","error","loadAssignedUsers","response","getChannelAssignedUsers","assigned_users","loadStatistics","get","bot","console","loadMessages","silent","params","per_page","fetchedMessages","hasNewMessages","length","replace","setInterval","clearInterval","handleFileChange","e","target","files","Array","from","maxSize","oversizedFiles","filter","f","size","map","name","join","prev","success","removeFile","index","_","i","clearAllFiles","value","handleSendMessage","preventDefault","trim","textToSend","filesToSend","post","message_text","message_type","file","formData","FormData","append","headers","successCount","failCount","Promise","resolve","duration","_error$response","_error$response$data","errorMessage","detail","message","handleTelegramSync","handleClearMessages","window","confirm","id","delete","deleted_count","renderFileIcon","type","className","fileName","_jsxFileName","lineNumber","columnNumber","children","onClick","member_count","brand_name","is_active","title","permissions","includes","role","total_messages","sent_posts","total_members","assigned_users_count","username","is_verified","userStat","email","sent_messages","first_name","last_name","is_sent","is_sending","media_url","src","alt","file_name","open","controls","href","rel","Date","timestamp","ref","split","toFixed","onSubmit","multiple","accept","onChange","_fileInputRef$current","click","disabled","onKeyDown","key","shiftKey","placeholder","rows","style","minHeight","maxHeight","channelName","brandId","brand_id","currentAssignedUserIds","assigned_user_ids","currentUserId","onClose","onSuccess","_c","$RefreshReg$"],"sources":["C:/Users/ilker/Desktop/aibrands/frontend/src/pages/admin/ChannelDetailOptimized.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { socialMediaChannelsAPI, SocialMediaChannel } from '../../api/socialMediaChannels';\nimport { \n  ArrowLeft, RefreshCw, Users, MessageSquare, Send, \n  Paperclip, X, Image as ImageIcon, Video, FileText, \n  CheckCircle, XCircle, Trash2, Download, UserPlus, \n  Building2, BarChart3, TrendingUp, Bot\n} from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport api from '../../utils/api';\nimport { format } from 'date-fns';\nimport { AssignUsersModal } from '../../components/channels/AssignUsersModal';\n\ninterface Message {\n  id: number;\n  message_text: string;\n  is_sent: boolean;\n  timestamp: string;\n  media_url?: string | null;\n  message_type?: string | null;\n  file_name?: string | null;\n  is_sending?: boolean;\n  temp_id?: number;\n}\n\ninterface ChannelStatistics {\n  total_messages: number;\n  sent_posts: number;\n  total_members: number;\n  assigned_users_count: number;\n}\n\ninterface BotInfo {\n  id: number;\n  name: string;\n  username: string;\n  is_active: boolean;\n  is_verified: boolean;\n}\n\ninterface AssignedUserStats {\n  id: number;\n  name: string;\n  email: string;\n  sent_messages: number;\n}\n\nconst ChannelDetailOptimized: React.FC = () => {\n  const { channelId } = useParams<{ channelId: string }>();\n  const navigate = useNavigate();\n  const { user, loading: authLoading } = useAuth();\n  \n  // State\n  const [channel, setChannel] = useState<SocialMediaChannel | null>(null);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showAssignUsersModal, setShowAssignUsersModal] = useState(false);\n  const [assignedUsers, setAssignedUsers] = useState<any[]>([]);\n  const [statistics, setStatistics] = useState<ChannelStatistics | null>(null);\n  const [botInfo, setBotInfo] = useState<BotInfo | null>(null);\n  const [assignedUsersStats, setAssignedUsersStats] = useState<AssignedUserStats[]>([]);\n  const [showStats, setShowStats] = useState(true);\n  \n  // Message input\n  const [messageText, setMessageText] = useState('');\n  const [mediaFiles, setMediaFiles] = useState<File[]>([]);\n  const [isSending, setIsSending] = useState(false);\n  \n  // Refs\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const pollIntervalRef = useRef<NodeJS.Timeout | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const lastMessageCountRef = useRef<number>(0);\n\n  // Scroll to bottom\n  const scrollToBottom = useCallback(() => {\n    setTimeout(() => {\n      messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n    }, 100);\n  }, []);\n\n  // Load channel\n  const loadChannel = useCallback(async () => {\n    if (!channelId) return;\n    \n    try {\n      const data = await socialMediaChannelsAPI.getChannel(Number(channelId));\n      setChannel(data);\n    } catch (error: any) {\n      toast.error('Kanal bilgileri yüklenemedi');\n      navigate('/admin/social-media/channels');\n    }\n  }, [channelId, navigate]);\n\n  // Load assigned users\n  const loadAssignedUsers = useCallback(async () => {\n    if (!channelId) return;\n    \n    try {\n      const response = await socialMediaChannelsAPI.getChannelAssignedUsers(Number(channelId));\n      setAssignedUsers(response.assigned_users || []);\n    } catch (error) {\n      // Silently handle error - assigned users are not critical\n    }\n  }, [channelId]);\n\n  // Load statistics\n  const loadStatistics = useCallback(async () => {\n    if (!channelId) return;\n    \n    try {\n      const response = await api.get(`/api/social-media/channels/${channelId}/statistics`);\n      setStatistics(response.data.statistics);\n      setBotInfo(response.data.bot);\n      setAssignedUsersStats(response.data.assigned_users || []);\n    } catch (error) {\n      console.error('Statistics load error:', error);\n    }\n  }, [channelId]);\n\n  // Load messages\n  const loadMessages = useCallback(async (silent = false) => {\n    if (!channelId) return;\n    \n    try {\n      if (!silent) setLoading(true);\n      \n      const response = await api.get(`/api/social-media/channels/${channelId}/messages`, {\n        params: { per_page: 500 }\n      });\n\n      const fetchedMessages: Message[] = response.data.messages || [];\n      \n      // Check for new messages\n      const hasNewMessages = fetchedMessages.length > lastMessageCountRef.current;\n      lastMessageCountRef.current = fetchedMessages.length;\n      \n      setMessages(fetchedMessages);\n      \n      // Auto-scroll on new messages\n      if (hasNewMessages) {\n        scrollToBottom();\n      }\n    } catch (error: any) {\n      if (!silent) toast.error('Mesajlar yüklenemedi');\n    } finally {\n      setLoading(false);\n    }\n  }, [channelId, scrollToBottom]);\n\n  // Initial load\n  useEffect(() => {\n    if (authLoading) return;\n    if (!user) {\n      navigate('/login', { replace: true });\n      return;\n    }\n    \n    loadChannel();\n    loadAssignedUsers();\n    loadMessages();\n    loadStatistics();\n  }, [authLoading, user, navigate, loadChannel, loadAssignedUsers, loadMessages, loadStatistics]);\n\n  // Real-time polling (every 3 seconds)\n  useEffect(() => {\n    if (!channelId) return;\n    \n    pollIntervalRef.current = setInterval(() => {\n      loadMessages(true);\n    }, 3000);\n\n    return () => {\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n    };\n  }, [channelId, loadMessages]);\n\n  // File handling\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (!e.target.files) return;\n    \n    const files = Array.from(e.target.files);\n    \n    // Dosya sayısı kontrolü\n    if (files.length + mediaFiles.length > 50) {\n      toast.error('En fazla 50 dosya ekleyebilirsiniz');\n      return;\n    }\n\n    // Dosya boyutu kontrolü (her dosya max 50MB)\n    const maxSize = 50 * 1024 * 1024; // 50MB\n    const oversizedFiles = files.filter(f => f.size > maxSize);\n    if (oversizedFiles.length > 0) {\n      toast.error(`Bazı dosyalar çok büyük (max 50MB): ${oversizedFiles.map(f => f.name).join(', ')}`);\n      return;\n    }\n\n    setMediaFiles(prev => [...prev, ...files]);\n    toast.success(`${files.length} dosya eklendi`);\n  };\n\n  const removeFile = (index: number) => {\n    setMediaFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const clearAllFiles = () => {\n    setMediaFiles([]);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  // Send message - TAM ÇALIŞIR VERSİYON\n  const handleSendMessage = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // Validasyon\n    if (!channelId) {\n      toast.error('Kanal ID bulunamadı');\n      return;\n    }\n    \n    if (!messageText.trim() && mediaFiles.length === 0) {\n      toast.error('Lütfen mesaj yazın veya dosya ekleyin');\n      return;\n    }\n    \n    if (isSending) return;\n\n    setIsSending(true);\n    const textToSend = messageText.trim();\n    const filesToSend = [...mediaFiles];\n    \n    // Clear inputs immediately for better UX\n    setMessageText('');\n    clearAllFiles();\n\n    try {\n      // SENARYO 1: Sadece metin (dosya yok)\n      if (filesToSend.length === 0 && textToSend) {\n        await api.post(`/api/social-media/channels/${channelId}/messages`, {\n          message_text: textToSend,\n          message_type: 'text'\n        });\n        toast.success('✅ Mesaj gönderildi!');\n      }\n      \n      // SENARYO 2: Tek dosya + metin (opsiyonel)\n      else if (filesToSend.length === 1) {\n        const file = filesToSend[0];\n        const formData = new FormData();\n        formData.append('file', file);\n        if (textToSend) {\n          formData.append('message_text', textToSend);\n        }\n        \n        await api.post(\n          `/api/social-media/channels/${channelId}/messages/upload`,\n          formData,\n          {\n            headers: { 'Content-Type': 'multipart/form-data' }\n          }\n        );\n        toast.success(`✅ ${textToSend ? 'Mesaj ve dosya' : 'Dosya'} gönderildi!`);\n      }\n      \n      // SENARYO 3: Çoklu dosya + metin (opsiyonel)\n      else if (filesToSend.length > 1) {\n        let successCount = 0;\n        let failCount = 0;\n        \n        // İlk dosyaya metni ekle\n        for (let i = 0; i < filesToSend.length; i++) {\n          const file = filesToSend[i];\n          \n          try {\n            const formData = new FormData();\n            formData.append('file', file);\n            \n            // Sadece ilk dosyaya metin ekle\n            if (i === 0 && textToSend) {\n              formData.append('message_text', textToSend);\n            }\n            \n            await api.post(\n              `/api/social-media/channels/${channelId}/messages/upload`,\n              formData,\n              {\n                headers: { 'Content-Type': 'multipart/form-data' }\n              }\n            );\n            \n            successCount++;\n            \n            // Rate limiting: Her dosya arasında 500ms bekle\n            if (i < filesToSend.length - 1) {\n              await new Promise(resolve => setTimeout(resolve, 500));\n            }\n            \n          } catch (error: any) {\n            failCount++;\n            console.error(`Dosya gönderimi başarısız: ${file.name}`, error);\n            toast.error(`❌ ${file.name} gönderilemedi`, { duration: 2000 });\n          }\n        }\n        \n        // Özet mesaj\n        if (successCount > 0) {\n          toast.success(`✅ ${successCount}/${filesToSend.length} dosya gönderildi!`);\n        }\n        if (failCount > 0) {\n          toast.error(`⚠️ ${failCount} dosya gönderilemedi`);\n        }\n      }\n\n      // Mesajları yenile\n      setTimeout(() => {\n        loadMessages(true);\n        scrollToBottom();\n      }, 2000);\n\n    } catch (error: any) {\n      console.error('Mesaj gönderme hatası:', error);\n      const errorMessage = error?.response?.data?.detail || error.message || 'Mesaj gönderilemedi';\n      toast.error(`❌ ${errorMessage}`);\n      \n      // Hata durumunda girişleri geri yükle\n      if (textToSend) setMessageText(textToSend);\n      if (filesToSend.length > 0) setMediaFiles(filesToSend);\n      \n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  // Sync from Telegram\n  const handleTelegramSync = async () => {\n    try {\n      toast.loading('Telegram mesajları senkronize ediliyor...', { duration: 2000 });\n      await api.post(`/api/social-media/channels/${channelId}/sync-messages`);\n      toast.success('Mesajlar senkronize ediliyor');\n      setTimeout(() => loadMessages(true), 3000);\n    } catch (error) {\n      toast.error('Senkronizasyon başarısız');\n    }\n  };\n\n  // Clear all messages\n  const handleClearMessages = async () => {\n    if (!window.confirm('Tüm mesajları silmek istediğinizden emin misiniz?')) return;\n    \n    try {\n      toast.loading('Mesajlar temizleniyor...', { id: 'clear' });\n      const response = await api.delete(`/api/social-media/channels/${channelId}/messages/clear`);\n      setMessages([]);\n      lastMessageCountRef.current = 0;\n      toast.success(`✅ ${response.data.deleted_count} mesaj temizlendi!`, { id: 'clear' });\n    } catch (error: any) {\n      toast.error('Mesajlar temizlenemedi', { id: 'clear' });\n    }\n  };\n\n  // Render file icon\n  const renderFileIcon = (type?: string | null) => {\n    if (type === 'image') return <ImageIcon size={16} className=\"text-blue-500\" />;\n    if (type === 'video') return <Video size={16} className=\"text-purple-500\" />;\n    return <FileText size={16} className=\"text-gray-500\" />;\n  };\n\n  // Loading states\n  if (authLoading || loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  if (!channel) return null;\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gray-50\">\n      {/* Header - Compact with Full Info */}\n      <div className=\"bg-white border-b border-gray-200 px-4 py-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={() => navigate('/admin/social-media/channels')}\n              className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n            >\n              <ArrowLeft size={20} />\n            </button>\n            \n            <div>\n              <h1 className=\"text-lg font-semibold text-gray-900\">{channel.name}</h1>\n              <div className=\"flex items-center gap-3 text-xs text-gray-500\">\n                <span className=\"flex items-center gap-1\">\n                  <MessageSquare size={12} />\n                  {messages.length} mesaj\n                </span>\n                <span className=\"flex items-center gap-1\">\n                  <Users size={12} />\n                  {channel.member_count || 0} üye\n                </span>\n                <span className=\"flex items-center gap-1\">\n                  <Building2 size={12} />\n                  {channel.brand_name || 'Marka'}\n                </span>\n                {channel.is_active ? (\n                  <span className=\"flex items-center gap-1 text-green-600\">\n                    <CheckCircle size={12} />\n                    Aktif\n                  </span>\n                ) : (\n                  <span className=\"flex items-center gap-1 text-red-600\">\n                    <XCircle size={12} />\n                    Pasif\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setShowStats(!showStats)}\n              className={`flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg transition-colors ${\n                showStats \n                  ? 'bg-indigo-100 text-indigo-700' \n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n              }`}\n              title=\"İstatistikleri Göster/Gizle\"\n            >\n              <BarChart3 size={14} />\n              İstatistikler\n            </button>\n\n            {(user?.permissions?.includes('social.manage') || user?.permissions?.includes('brands.manage')) && (\n              <button\n                onClick={() => setShowAssignUsersModal(true)}\n                className=\"flex items-center gap-2 px-3 py-1.5 text-sm bg-purple-50 text-purple-600 hover:bg-purple-100 rounded-lg transition-colors\"\n                title=\"Kullanıcı Yönet\"\n              >\n                <UserPlus size={14} />\n                Kullanıcı ({assignedUsers.length})\n              </button>\n            )}\n\n            <button\n              onClick={handleTelegramSync}\n              className=\"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors\"\n              title=\"Telegram'dan Mesajları Çek\"\n            >\n              <RefreshCw size={14} />\n              Sync\n            </button>\n\n            {(user?.role === 'Super Admin' || user?.role === 'Mağaza Yöneticisi') && messages.length > 0 && (\n              <button\n                onClick={handleClearMessages}\n                className=\"flex items-center gap-2 px-3 py-1.5 text-sm bg-red-50 text-red-600 hover:bg-red-100 rounded-lg transition-colors\"\n                title=\"Tüm mesajları temizle\"\n              >\n                <Trash2 size={14} />\n                Temizle\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Statistics Panel - Toggle */}\n      {showStats && statistics && (\n        <div className=\"bg-white border-b border-gray-200 px-4 py-4\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4\">\n            {/* Stat Card 1: Total Messages */}\n            <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl border border-blue-200\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-xs font-medium text-blue-600 mb-1\">Toplam Mesaj</p>\n                  <p className=\"text-2xl font-bold text-blue-900\">{statistics.total_messages}</p>\n                </div>\n                <MessageSquare className=\"text-blue-500\" size={32} />\n              </div>\n            </div>\n\n            {/* Stat Card 2: Sent Posts */}\n            <div className=\"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl border border-green-200\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-xs font-medium text-green-600 mb-1\">Gönderilen Post</p>\n                  <p className=\"text-2xl font-bold text-green-900\">{statistics.sent_posts}</p>\n                </div>\n                <Send className=\"text-green-500\" size={32} />\n              </div>\n            </div>\n\n            {/* Stat Card 3: Total Members */}\n            <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-xl border border-purple-200\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-xs font-medium text-purple-600 mb-1\">Toplam Üye</p>\n                  <p className=\"text-2xl font-bold text-purple-900\">{statistics.total_members}</p>\n                </div>\n                <Users className=\"text-purple-500\" size={32} />\n              </div>\n            </div>\n\n            {/* Stat Card 4: Assigned Users */}\n            <div className=\"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-xl border border-orange-200\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-xs font-medium text-orange-600 mb-1\">Atanmış Çalışan</p>\n                  <p className=\"text-2xl font-bold text-orange-900\">{statistics.assigned_users_count}</p>\n                </div>\n                <UserPlus className=\"text-orange-500\" size={32} />\n              </div>\n            </div>\n          </div>\n\n          {/* Bot Info */}\n          {botInfo && (\n            <div className=\"bg-gradient-to-br from-indigo-50 to-indigo-100 p-4 rounded-xl border border-indigo-200 mb-4\">\n              <div className=\"flex items-center gap-3\">\n                <Bot className=\"text-indigo-600\" size={28} />\n                <div className=\"flex-1\">\n                  <p className=\"text-sm font-semibold text-indigo-900\">{botInfo.name}</p>\n                  <p className=\"text-xs text-indigo-600\">{botInfo.username}</p>\n                </div>\n                <div className=\"flex gap-2\">\n                  {botInfo.is_active && (\n                    <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full flex items-center gap-1\">\n                      <CheckCircle size={12} />\n                      Aktif\n                    </span>\n                  )}\n                  {botInfo.is_verified && (\n                    <span className=\"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full flex items-center gap-1\">\n                      <CheckCircle size={12} />\n                      Doğrulanmış\n                    </span>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Employee Performance Table */}\n          {assignedUsersStats.length > 0 && (\n            <div className=\"bg-white rounded-xl border border-gray-200 overflow-hidden\">\n              <div className=\"bg-gray-50 px-4 py-3 border-b border-gray-200\">\n                <h3 className=\"text-sm font-semibold text-gray-900 flex items-center gap-2\">\n                  <TrendingUp size={16} className=\"text-gray-600\" />\n                  Çalışan Performansı\n                </h3>\n              </div>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-gray-50 border-b border-gray-200\">\n                    <tr>\n                      <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-600\">Çalışan</th>\n                      <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-600\">Email</th>\n                      <th className=\"px-4 py-2 text-right text-xs font-medium text-gray-600\">Gönderilen Post</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-gray-200\">\n                    {assignedUsersStats.map((userStat) => (\n                      <tr key={userStat.id} className=\"hover:bg-gray-50 transition-colors\">\n                        <td className=\"px-4 py-3 text-sm text-gray-900 font-medium\">{userStat.name}</td>\n                        <td className=\"px-4 py-3 text-sm text-gray-600\">{userStat.email}</td>\n                        <td className=\"px-4 py-3 text-sm text-right\">\n                          <span className=\"inline-flex items-center justify-center px-3 py-1 bg-blue-100 text-blue-700 rounded-full font-semibold\">\n                            {userStat.sent_messages}\n                          </span>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Assigned Users Display */}\n      {assignedUsers.length > 0 && (\n        <div className=\"bg-gray-50 border-b border-gray-200 px-4 py-2\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-xs text-gray-600\">Atanan Kullanıcılar:</span>\n            <div className=\"flex flex-wrap gap-1\">\n              {assignedUsers.map((user: any) => (\n                <span\n                  key={user.id}\n                  className=\"inline-flex items-center gap-1 px-2 py-0.5 bg-white rounded-full border border-gray-200 text-xs text-gray-700\"\n                >\n                  <Users size={10} />\n                  {user.first_name} {user.last_name}\n                </span>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Messages Area - Minimal Design */}\n      <div className=\"flex-1 overflow-y-auto px-4 py-4 space-y-2\">\n        {messages.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center h-full text-gray-400\">\n            <MessageSquare size={48} className=\"mb-3\" />\n            <p className=\"text-sm\">Henüz mesaj yok</p>\n            <p className=\"text-xs\">Aşağıdan mesaj gönderin</p>\n          </div>\n        ) : (\n          messages.map((message) => (\n            <div\n              key={message.id}\n              className={`flex ${message.is_sent ? 'justify-end' : 'justify-start'}`}\n            >\n              <div\n                className={`max-w-[70%] rounded-lg px-3 py-2 ${\n                  message.is_sent\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-white border border-gray-200 text-gray-900'\n                } ${message.is_sending ? 'opacity-50' : ''}`}\n              >\n                {/* Media */}\n                {message.media_url && (\n                  <div className=\"mb-2\">\n                    {message.message_type === 'image' && (\n                      <img\n                        src={message.media_url}\n                        alt={message.file_name || 'Image'}\n                        className=\"max-w-full max-h-48 rounded cursor-pointer\"\n                        onClick={() => window.open(message.media_url!, '_blank')}\n                      />\n                    )}\n                    {message.message_type === 'video' && (\n                      <video\n                        src={message.media_url}\n                        controls\n                        className=\"max-w-full max-h-48 rounded\"\n                      />\n                    )}\n                    {message.message_type === 'document' && (\n                      <a\n                        href={message.media_url}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"flex items-center gap-2 text-sm hover:underline\"\n                      >\n                        <Download size={14} />\n                        {message.file_name || 'Dosya'}\n                      </a>\n                    )}\n                  </div>\n                )}\n\n                {/* Text */}\n                {message.message_text && (\n                  <p className=\"text-sm break-words\">{message.message_text}</p>\n                )}\n\n                {/* Timestamp */}\n                <div className={`text-xs mt-1 ${message.is_sent ? 'text-blue-100' : 'text-gray-400'}`}>\n                  {format(new Date(message.timestamp), 'HH:mm')}\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* File Previews - Modern Design */}\n      {mediaFiles.length > 0 && (\n        <div className=\"px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 border-t border-blue-100\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"flex items-center gap-2\">\n              <Paperclip size={16} className=\"text-blue-600\" />\n              <span className=\"text-sm font-medium text-blue-900\">{mediaFiles.length} dosya seçildi</span>\n            </div>\n            <button\n              onClick={clearAllFiles}\n              className=\"text-xs text-red-600 hover:text-red-700 font-medium flex items-center gap-1 hover:underline\"\n            >\n              <X size={14} />\n              Tümünü Kaldır\n            </button>\n          </div>\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            {mediaFiles.map((file, index) => (\n              <div\n                key={index}\n                className=\"group relative flex items-center gap-2 px-3 py-2 bg-white rounded-lg border border-blue-200 shadow-sm hover:shadow-md transition-all\"\n              >\n                <div className=\"p-1.5 bg-blue-100 rounded\">\n                  {renderFileIcon(file.type.split('/')[0])}\n                </div>\n                <div className=\"flex flex-col\">\n                  <span className=\"text-xs font-medium text-gray-900 max-w-[120px] truncate\">{file.name}</span>\n                  <span className=\"text-[10px] text-gray-500\">{(file.size / 1024).toFixed(1)} KB</span>\n                </div>\n                <button\n                  onClick={() => removeFile(index)}\n                  className=\"ml-2 p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors\"\n                  title=\"Kaldır\"\n                >\n                  <X size={14} />\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Input Area - Modern & Beautiful */}\n      <div className=\"bg-gradient-to-r from-gray-50 to-gray-100 border-t-2 border-gray-200 px-4 py-4\">\n        <form onSubmit={handleSendMessage} className=\"flex items-end gap-3\">\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            multiple\n            accept=\"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt,.xlsx,.xls,.ppt,.pptx,.zip,.rar\"\n            onChange={handleFileChange}\n            className=\"hidden\"\n          />\n\n          {/* Attachment Button */}\n          <button\n            type=\"button\"\n            onClick={() => fileInputRef.current?.click()}\n            className=\"flex-shrink-0 p-3 text-gray-600 hover:text-blue-600 bg-white hover:bg-blue-50 rounded-xl border border-gray-200 hover:border-blue-300 transition-all shadow-sm hover:shadow-md\"\n            disabled={isSending}\n            title=\"Dosya Ekle\"\n          >\n            <Paperclip size={22} />\n          </button>\n\n          {/* Message Input */}\n          <div className=\"flex-1 relative\">\n            <textarea\n              value={messageText}\n              onChange={(e) => setMessageText(e.target.value)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter' && !e.shiftKey) {\n                  e.preventDefault();\n                  handleSendMessage(e);\n                }\n              }}\n              placeholder=\"Mesajınızı yazın... (Enter: Gönder, Shift+Enter: Yeni satır)\"\n              className=\"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none shadow-sm transition-all placeholder:text-gray-400\"\n              rows={1}\n              disabled={isSending}\n              style={{ minHeight: '48px', maxHeight: '120px' }}\n            />\n            {messageText.trim() && (\n              <div className=\"absolute bottom-2 right-2 text-xs text-gray-400\">\n                {messageText.length} karakter\n              </div>\n            )}\n          </div>\n\n          {/* Send Button */}\n          <button\n            type=\"submit\"\n            disabled={isSending || (!messageText.trim() && mediaFiles.length === 0)}\n            className=\"flex-shrink-0 p-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:from-gray-400 disabled:to-gray-500 group\"\n            title={isSending ? 'Gönderiliyor...' : 'Gönder'}\n          >\n            {isSending ? (\n              <RefreshCw size={22} className=\"animate-spin\" />\n            ) : (\n              <Send size={22} className=\"group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform\" />\n            )}\n          </button>\n        </form>\n        \n        {/* Helper Text */}\n        <div className=\"flex items-center justify-between mt-2 px-1\">\n          <p className=\"text-xs text-gray-500 flex items-center gap-1\">\n            <MessageSquare size={12} />\n            Enter ile hızlıca gönderin\n          </p>\n          {mediaFiles.length === 0 && (\n            <p className=\"text-xs text-gray-500 flex items-center gap-1\">\n              <Paperclip size={12} />\n              Dosya ekleyebilirsiniz\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Assign Users Modal */}\n      {showAssignUsersModal && channel && user && (\n        <AssignUsersModal\n          channelId={channel.id}\n          channelName={channel.name}\n          brandId={channel.brand_id}\n          currentAssignedUserIds={channel.assigned_user_ids || []}\n          currentUserId={user.id}\n          onClose={() => setShowAssignUsersModal(false)}\n          onSuccess={() => {\n            loadAssignedUsers();\n            loadChannel();\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ChannelDetailOptimized;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}