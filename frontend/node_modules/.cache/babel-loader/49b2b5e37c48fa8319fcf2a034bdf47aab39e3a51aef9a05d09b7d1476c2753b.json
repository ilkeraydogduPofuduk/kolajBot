{"ast":null,"code":"import _objectSpread from\"C:/Users/ilker/Desktop/aibrands/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Image,AlertCircle,CheckCircle,Package,Edit3,RefreshCw,Layers,X,Save,Eye,Search,Grid,List}from'lucide-react';import{collagesAPI}from'../../services/api/collages';import{productsAPI}from'../../api/products';import{brandsAPI}from'../../api/brands';import toast from'react-hot-toast';import CanvaLikeEditor from'../../components/template/CanvaLikeEditor';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Collages=()=>{const[products,setProducts]=useState([]);const[statistics,setStatistics]=useState(null);const[loading,setLoading]=useState(true);const[brands,setBrands]=useState([]);// Edit states\nconst[editingProduct,setEditingProduct]=useState(null);const[editForm,setEditForm]=useState({});const[saving,setSaving]=useState(false);// Bulk edit states\nconst[selectedProducts,setSelectedProducts]=useState([]);const[bulkEditField,setBulkEditField]=useState('');const[bulkEditValue,setBulkEditValue]=useState('');const[showBulkEdit,setShowBulkEdit]=useState(false);// Collage editor\nconst[editingCollage,setEditingCollage]=useState(null);const[showCollageEditor,setShowCollageEditor]=useState(false);// Filters and pagination\nconst[filter,setFilter]=useState('all');const[searchTerm,setSearchTerm]=useState('');const[viewMode,setViewMode]=useState('grid');const[page,setPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[perPage,setPerPage]=useState(20);useEffect(()=>{loadData();loadBrands();},[page,filter,searchTerm,perPage]);// Reset to page 1 when perPage changes\nuseEffect(()=>{setPage(1);},[perPage]);const loadData=async()=>{try{setLoading(true);// Load products with collage info using backend filtering\nconst response=await collagesAPI.getPendingCollages(page,perPage,undefined,// brandId\nsearchTerm||undefined,filter==='all'?undefined:filter);setProducts(response.products||[]);setTotalPages(response.total_pages||1);// Load statistics\nconst statsResponse=await collagesAPI.getStatistics();setStatistics(statsResponse);}catch(error){console.error('Error loading collage data:',error);toast.error('Kolaj verileri yüklenemedi');}finally{setLoading(false);}};const loadBrands=async()=>{try{const response=await brandsAPI.getBrands();setBrands(response.brands||[]);}catch(error){console.error('Error loading brands:',error);}};const startEditing=product=>{var _product$price;setEditingProduct(product.id);setEditForm({product_type:product.product_type||'',size_range:product.size_range||'',price:((_product$price=product.price)===null||_product$price===void 0?void 0:_product$price.toString())||'',brand_id:product.brand_id||''});};const saveEdit=async productId=>{try{setSaving(true);await productsAPI.updateProduct(productId,{product_type:editForm.product_type,size_range:editForm.size_range,price:editForm.price?parseFloat(editForm.price):undefined,brand_id:editForm.brand_id?parseInt(editForm.brand_id):undefined});toast.success('Ürün başarıyla güncellendi');setEditingProduct(null);loadData();}catch(error){toast.error('Ürün güncellenirken hata oluştu');console.error('Error updating product:',error);}finally{setSaving(false);}};const cancelEdit=()=>{setEditingProduct(null);setEditForm({});};const handleProductSelect=productId=>{setSelectedProducts(prev=>prev.includes(productId)?prev.filter(id=>id!==productId):[...prev,productId]);};const handleBulkEdit=async()=>{if(!bulkEditField||!bulkEditValue||selectedProducts.length===0){toast.error('Lütfen alan ve değer seçin');return;}try{setSaving(true);const updateData={};if(bulkEditField==='price'){updateData[bulkEditField]=parseFloat(bulkEditValue);}else if(bulkEditField==='brand_id'){updateData[bulkEditField]=parseInt(bulkEditValue);}else{updateData[bulkEditField]=bulkEditValue;}// Update all selected products\nawait Promise.all(selectedProducts.map(productId=>productsAPI.updateProduct(productId,updateData)));toast.success(\"\".concat(selectedProducts.length,\" \\xFCr\\xFCn ba\\u015Far\\u0131yla g\\xFCncellendi\"));setSelectedProducts([]);setShowBulkEdit(false);setBulkEditField('');setBulkEditValue('');loadData();}catch(error){toast.error('Toplu güncelleme hatası');console.error('Error bulk updating products:',error);}finally{setSaving(false);}};const openCollageEditor=product=>{setEditingCollage(product);setShowCollageEditor(true);};const getProductStatus=product=>{if(product.has_collage)return'ready';if(product.missing_fields&&product.missing_fields.length>0)return'missing';if(product.can_create_collage)return'ready';return'pending';};const getStatusColor=status=>{switch(status){case'ready':return'text-green-600 bg-green-100';case'missing':return'text-red-600 bg-red-100';case'pending':return'text-yellow-600 bg-yellow-100';default:return'text-gray-600 bg-gray-100';}};const getStatusText=status=>{switch(status){case'ready':return'Hazır';case'missing':return'Eksik Bilgi';case'pending':return'Beklemede';default:return'Bilinmiyor';}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center h-64\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-8 h-8 animate-spin text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-600\",children:\"Y\\xFCkleniyor...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-slate-50 to-blue-50 border border-slate-200 rounded-lg p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 pt-0.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-blue-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900 mb-1\",children:\"Depolama Bilgisi\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 leading-relaxed\",children:[\"\\xDCr\\xFCn g\\xF6rselleri ve kolajlar \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:\"24 saat\"}),\" boyunca \\xFCcretsiz olarak saklanmaktad\\u0131r. Daha uzun s\\xFCre depolama i\\xE7in premium paketlerimizi inceleyebilirsiniz.\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded transition-colors duration-200\",children:\"Premium\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Kolaj Y\\xF6netimi\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"\\xDCr\\xFCn kolajlar\\u0131n\\u0131 y\\xF6netin ve d\\xFCzenleyin\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode(viewMode==='grid'?'list':'grid'),className:\"btn btn-outline btn-sm\",children:viewMode==='grid'?/*#__PURE__*/_jsx(List,{size:16}):/*#__PURE__*/_jsx(Grid,{size:16})}),/*#__PURE__*/_jsxs(\"button\",{onClick:loadData,className:\"btn btn-outline btn-sm\",children:[/*#__PURE__*/_jsx(RefreshCw,{size:16}),\"Yenile\"]})]})]}),statistics&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Toplam \\xDCr\\xFCn\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:statistics.total_products})]}),/*#__PURE__*/_jsx(Package,{className:\"w-8 h-8 text-blue-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Kolaj Var\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:statistics.products_with_collage})]}),/*#__PURE__*/_jsx(CheckCircle,{className:\"w-8 h-8 text-green-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Eksik Bilgi\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-red-600\",children:statistics.products_missing_info})]}),/*#__PURE__*/_jsx(AlertCircle,{className:\"w-8 h-8 text-red-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Tamamlanma\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:[statistics.completion_rate,\"%\"]})]}),/*#__PURE__*/_jsx(Layers,{className:\"w-8 h-8 text-blue-600\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Search,{size:16,className:\"text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\xDCr\\xFCn ara...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"input input-sm w-64\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filter,onChange:e=>setFilter(e.target.value),className:\"select select-sm w-48\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"T\\xFCm\\xFC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"missing\",children:\"Eksik Bilgiler\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ready\",children:\"Haz\\u0131r (Kolaj Yok)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"has_collage\",children:\"Kolaj Var\"}),/*#__PURE__*/_jsx(\"option\",{value:\"telegram_sent\",children:\"Telegram G\\xF6nderildi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"telegram_not_sent\",children:\"Telegram G\\xF6nderilmedi\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:perPage,onChange:e=>setPerPage(parseInt(e.target.value)),className:\"select select-sm w-24\",children:[/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100\"})]}),selectedProducts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[selectedProducts.length,\" \\xFCr\\xFCn se\\xE7ildi\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowBulkEdit(true),className:\"btn btn-sm btn-primary\",children:[/*#__PURE__*/_jsx(Edit3,{size:14}),\"Toplu D\\xFCzenle\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedProducts([]),className:\"btn btn-sm btn-outline\",children:[/*#__PURE__*/_jsx(X,{size:14}),\"Temizle\"]})]})]})}),showBulkEdit&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-96\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Toplu D\\xFCzenleme\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"D\\xFCzenlenecek Alan\"}),/*#__PURE__*/_jsxs(\"select\",{value:bulkEditField,onChange:e=>setBulkEditField(e.target.value),className:\"select select-sm w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Alan se\\xE7in\"}),/*#__PURE__*/_jsx(\"option\",{value:\"product_type\",children:\"\\xDCr\\xFCn Tipi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"size_range\",children:\"Beden Aral\\u0131\\u011F\\u0131\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price\",children:\"Fiyat\"}),/*#__PURE__*/_jsx(\"option\",{value:\"brand_id\",children:\"Marka\"})]})]}),bulkEditField==='brand_id'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Marka\"}),/*#__PURE__*/_jsxs(\"select\",{value:bulkEditValue,onChange:e=>setBulkEditValue(e.target.value),className:\"select select-sm w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Marka se\\xE7in\"}),brands.map(brand=>/*#__PURE__*/_jsx(\"option\",{value:brand.id,children:brand.name},brand.id))]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Yeni De\\u011Fer\"}),/*#__PURE__*/_jsx(\"input\",{type:bulkEditField==='price'?'number':'text',value:bulkEditValue,onChange:e=>setBulkEditValue(e.target.value),placeholder:\"De\\u011Fer girin\",className:\"input input-sm w-full\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowBulkEdit(false),className:\"btn btn-outline btn-sm\",children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBulkEdit,disabled:saving,className:\"btn btn-primary btn-sm\",children:saving?'Kaydediliyor...':'Kaydet'})]})]})}),viewMode==='grid'?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:products.map(product=>{const status=getProductStatus(product);const isEditing=editingProduct===product.id;const isSelected=selectedProducts.includes(product.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border-2 transition-all \".concat(isSelected?'border-blue-500 bg-blue-50':'border-gray-200 hover:border-gray-300'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-square bg-gray-100 rounded-t-lg overflow-hidden\",children:product.cover_image_url?/*#__PURE__*/_jsx(\"img\",{src:product.cover_image_url,alt:\"\".concat(product.code,\" \").concat(product.color),className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Image,{className:\"w-12 h-12 text-gray-400\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 left-2 px-2 py-1 rounded-full text-xs font-medium \".concat(getStatusColor(status)),children:getStatusText(status)}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 right-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isSelected,onChange:()=>handleProductSelect(product.id),className:\"checkbox checkbox-sm\"})}),product.has_collage&&product.collage_url&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-2 right-2\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openCollageEditor(product),className:\"btn btn-xs btn-primary\",children:[/*#__PURE__*/_jsx(Eye,{size:12}),\"Kolaj\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-900\",children:[product.code,\" \",product.color]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[product.image_count,\" g\\xF6rsel\"]})]}),isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium text-gray-600\",children:\"\\xDCr\\xFCn Tipi\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editForm.product_type,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{product_type:e.target.value})),className:\"input input-xs w-full\",placeholder:\"ELBISE, TAKIM\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium text-gray-600\",children:\"Beden\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editForm.size_range,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{size_range:e.target.value})),className:\"input input-xs w-full\",placeholder:\"36-42, S-M-L\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium text-gray-600\",children:\"Fiyat\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.price,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{price:e.target.value})),className:\"input input-xs w-full\",placeholder:\"64.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium text-gray-600\",children:\"Marka\"}),/*#__PURE__*/_jsxs(\"select\",{value:editForm.brand_id,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{brand_id:e.target.value})),className:\"select select-xs w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Marka se\\xE7in\"}),brands.map(brand=>/*#__PURE__*/_jsx(\"option\",{value:brand.id,children:brand.name},brand.id))]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(!product.product_type?'text-red-500':'text-gray-600'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Tip:\"}),\" \",product.product_type||'❌ Eksik']}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(!product.size_range?'text-red-500':'text-gray-600'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Beden:\"}),\" \",product.size_range||'❌ Eksik']}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(!product.price?'text-red-500':'text-gray-600'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Fiyat:\"}),\" \",product.price?\"$\".concat(product.price):'❌ Eksik']}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(!product.brand?'text-red-500':'text-gray-600'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Marka:\"}),\" \",product.brand||'❌ Eksik']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2 mt-3\",children:isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>saveEdit(product.id),disabled:saving,className:\"btn btn-xs btn-success flex-1\",children:[/*#__PURE__*/_jsx(Save,{size:12}),saving?'Kaydediliyor...':'Kaydet']}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEdit,className:\"btn btn-xs btn-outline\",children:/*#__PURE__*/_jsx(X,{size:12})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>startEditing(product),className:\"btn btn-xs btn-primary flex-1\",children:[/*#__PURE__*/_jsx(Edit3,{size:12}),\"D\\xFCzenle\"]}),product.has_collage&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>openCollageEditor(product),className:\"btn btn-xs btn-secondary\",children:/*#__PURE__*/_jsx(Eye,{size:12})})]})})]})]},product.id);})}):/*#__PURE__*//* List View */_jsx(\"div\",{className:\"bg-white rounded-lg border overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-zebra w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedProducts.length===products.length&&products.length>0,onChange:e=>{if(e.target.checked){setSelectedProducts(products.map(p=>p.id));}else{setSelectedProducts([]);}},className:\"checkbox checkbox-sm\"})}),/*#__PURE__*/_jsx(\"th\",{children:\"G\\xF6rsel\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\xDCr\\xFCn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tip\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Beden\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fiyat\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Marka\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Durum\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0130\\u015Flemler\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>{const status=getProductStatus(product);const isEditing=editingProduct===product.id;const isSelected=selectedProducts.includes(product.id);return/*#__PURE__*/_jsxs(\"tr\",{className:isSelected?'bg-blue-50':'',children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isSelected,onChange:()=>handleProductSelect(product.id),className:\"checkbox checkbox-sm\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded overflow-hidden\",children:product.cover_image_url?/*#__PURE__*/_jsx(\"img\",{src:product.cover_image_url,alt:\"\".concat(product.code,\" \").concat(product.color),className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Image,{className:\"w-6 h-6 text-gray-400\"})})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:product.code}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:product.color})]})}),/*#__PURE__*/_jsx(\"td\",{children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editForm.product_type,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{product_type:e.target.value})),className:\"input input-xs w-24\"}):/*#__PURE__*/_jsx(\"span\",{className:!product.product_type?'text-red-500':'',children:product.product_type||'❌ Eksik'})}),/*#__PURE__*/_jsx(\"td\",{children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editForm.size_range,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{size_range:e.target.value})),className:\"input input-xs w-24\"}):/*#__PURE__*/_jsx(\"span\",{className:!product.size_range?'text-red-500':'',children:product.size_range||'❌ Eksik'})}),/*#__PURE__*/_jsx(\"td\",{children:isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.price,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{price:e.target.value})),className:\"input input-xs w-20\"}):/*#__PURE__*/_jsx(\"span\",{className:!product.price?'text-red-500':'',children:product.price?\"$\".concat(product.price):'❌ Eksik'})}),/*#__PURE__*/_jsx(\"td\",{children:isEditing?/*#__PURE__*/_jsxs(\"select\",{value:editForm.brand_id,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{brand_id:e.target.value})),className:\"select select-xs w-32\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Se\\xE7in\"}),brands.map(brand=>/*#__PURE__*/_jsx(\"option\",{value:brand.id,children:brand.name},brand.id))]}):/*#__PURE__*/_jsx(\"span\",{className:!product.brand?'text-red-500':'',children:product.brand||'❌ Eksik'})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(getStatusColor(status)),children:getStatusText(status)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-1\",children:isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>saveEdit(product.id),disabled:saving,className:\"btn btn-xs btn-success\",children:/*#__PURE__*/_jsx(Save,{size:12})}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEdit,className:\"btn btn-xs btn-outline\",children:/*#__PURE__*/_jsx(X,{size:12})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditing(product),className:\"btn btn-xs btn-primary\",children:/*#__PURE__*/_jsx(Edit3,{size:12})}),product.has_collage&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>openCollageEditor(product),className:\"btn btn-xs btn-secondary\",children:/*#__PURE__*/_jsx(Eye,{size:12})})]})})})]},product.id);})})]})})}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-white rounded-lg border p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Sayfa \",page,\" / \",totalPages,\" (Toplam \",products.length,\" \\xFCr\\xFCn)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(1),disabled:page===1,className:\"btn btn-sm btn-outline\",children:\"\\u0130lk\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(Math.max(1,page-1)),disabled:page===1,className:\"btn btn-sm btn-outline\",children:\"\\xD6nceki\"}),(()=>{const startPage=Math.max(1,page-2);const endPage=Math.min(totalPages,page+2);const pages=[];for(let i=startPage;i<=endPage;i++){pages.push(/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(i),className:\"btn btn-sm \".concat(page===i?'btn-primary':'btn-outline'),children:i},i));}return pages;})(),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(Math.min(totalPages,page+1)),disabled:page===totalPages,className:\"btn btn-sm btn-outline\",children:\"Sonraki\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(totalPages),disabled:page===totalPages,className:\"btn btn-sm btn-outline\",children:\"Son\"})]})]}),showCollageEditor&&editingCollage&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg w-[95vw] h-[95vh] max-w-7xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold\",children:[\"Kolaj D\\xFCzenle: \",editingCollage.code,\" \",editingCollage.color]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setShowCollageEditor(false);setEditingCollage(null);},className:\"btn btn-sm btn-outline\",children:[/*#__PURE__*/_jsx(X,{size:16}),\"Kapat\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[calc(100%-80px)]\",children:/*#__PURE__*/_jsx(CanvaLikeEditor,{onSave:()=>{setShowCollageEditor(false);setEditingCollage(null);loadData();},onClose:()=>{setShowCollageEditor(false);setEditingCollage(null);},initialTemplate:{type:'collage',productId:editingCollage.id,collageUrl:editingCollage.collage_url}})})]})})]});};export default Collages;","map":{"version":3,"names":["React","useState","useEffect","Image","AlertCircle","CheckCircle","Package","Edit3","RefreshCw","Layers","X","Save","Eye","Search","Grid","List","collagesAPI","productsAPI","brandsAPI","toast","CanvaLikeEditor","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Collages","products","setProducts","statistics","setStatistics","loading","setLoading","brands","setBrands","editingProduct","setEditingProduct","editForm","setEditForm","saving","setSaving","selectedProducts","setSelectedProducts","bulkEditField","setBulkEditField","bulkEditValue","setBulkEditValue","showBulkEdit","setShowBulkEdit","editingCollage","setEditingCollage","showCollageEditor","setShowCollageEditor","filter","setFilter","searchTerm","setSearchTerm","viewMode","setViewMode","page","setPage","totalPages","setTotalPages","perPage","setPerPage","loadData","loadBrands","response","getPendingCollages","undefined","total_pages","statsResponse","getStatistics","error","console","getBrands","startEditing","product","_product$price","id","product_type","size_range","price","toString","brand_id","saveEdit","productId","updateProduct","parseFloat","parseInt","success","cancelEdit","handleProductSelect","prev","includes","handleBulkEdit","length","updateData","Promise","all","map","concat","openCollageEditor","getProductStatus","has_collage","missing_fields","can_create_collage","getStatusColor","status","getStatusText","className","children","onClick","size","total_products","products_with_collage","products_missing_info","completion_rate","type","placeholder","value","onChange","e","target","brand","name","disabled","isEditing","isSelected","cover_image_url","src","alt","code","color","checked","collage_url","image_count","_objectSpread","p","Math","max","startPage","endPage","min","pages","i","push","onSave","onClose","initialTemplate","collageUrl"],"sources":["C:/Users/ilker/Desktop/aibrands/frontend/src/pages/admin/Collages.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Image, \r\n  AlertCircle, \r\n  CheckCircle, \r\n  Package, \r\n  Edit3, \r\n  Send,\r\n  RefreshCw,\r\n  DollarSign,\r\n  Tag,\r\n  Layers,\r\n  Ruler,\r\n  X,\r\n  Save,\r\n  Check,\r\n  Eye,\r\n  Filter,\r\n  Search,\r\n  Grid,\r\n  List,\r\n  Plus\r\n} from 'lucide-react';\r\nimport { collagesAPI } from '../../services/api/collages';\r\nimport { productsAPI } from '../../api/products';\r\nimport { brandsAPI } from '../../api/brands';\r\nimport toast from 'react-hot-toast';\r\nimport CanvaLikeEditor from '../../components/template/CanvaLikeEditor';\r\n\r\ninterface Product {\r\n  id: number;\r\n  code: string;\r\n  color: string;\r\n  brand: string | null;\r\n  brand_id: number | null;\r\n  product_type: string | null;\r\n  size_range: string | null;\r\n  price: number | null;\r\n  missing_fields: string[];\r\n  has_collage: boolean;\r\n  image_count: number;\r\n  created_at: string | null;\r\n  can_create_collage: boolean;\r\n  collage_url?: string;\r\n  cover_image_url?: string;\r\n}\r\n\r\ninterface Statistics {\r\n  total_products: number;\r\n  products_with_collage: number;\r\n  products_missing_info: number;\r\n  products_ready_for_collage: number;\r\n  completion_rate: number;\r\n}\r\n\r\ninterface Brand {\r\n  id: number;\r\n  name: string;\r\n}\r\n\nconst Collages: React.FC = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [statistics, setStatistics] = useState<Statistics | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [brands, setBrands] = useState<Brand[]>([]);\n  \n  // Edit states\n  const [editingProduct, setEditingProduct] = useState<number | null>(null);\n  const [editForm, setEditForm] = useState<any>({});\n  const [saving, setSaving] = useState(false);\n  \n  // Bulk edit states\n  const [selectedProducts, setSelectedProducts] = useState<number[]>([]);\n  const [bulkEditField, setBulkEditField] = useState<string>('');\n  const [bulkEditValue, setBulkEditValue] = useState<string>('');\n  const [showBulkEdit, setShowBulkEdit] = useState(false);\n  \n  // Collage editor\n  const [editingCollage, setEditingCollage] = useState<Product | null>(null);\n  const [showCollageEditor, setShowCollageEditor] = useState(false);\n  \n  // Filters and pagination\n  const [filter, setFilter] = useState<'all' | 'missing' | 'ready' | 'has_collage' | 'telegram_sent' | 'telegram_not_sent'>('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [perPage, setPerPage] = useState(20);\n\n  useEffect(() => {\n    loadData();\n    loadBrands();\n  }, [page, filter, searchTerm, perPage]);\n\n  // Reset to page 1 when perPage changes\n  useEffect(() => {\n    setPage(1);\n  }, [perPage]);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      \n      // Load products with collage info using backend filtering\n      const response = await collagesAPI.getPendingCollages(\n        page, \n        perPage, \n        undefined, // brandId\n        searchTerm || undefined, \n        filter === 'all' ? undefined : filter\n      );\n      \n      setProducts(response.products || []);\n      setTotalPages(response.total_pages || 1);\n      \n      // Load statistics\n      const statsResponse = await collagesAPI.getStatistics();\n      setStatistics(statsResponse);\n    } catch (error) {\n      console.error('Error loading collage data:', error);\n      toast.error('Kolaj verileri yüklenemedi');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadBrands = async () => {\n    try {\n      const response = await brandsAPI.getBrands();\n      setBrands(response.brands || []);\n    } catch (error) {\n      console.error('Error loading brands:', error);\n    }\n  };\n\n  const startEditing = (product: Product) => {\n    setEditingProduct(product.id);\n    setEditForm({\n      product_type: product.product_type || '',\n      size_range: product.size_range || '',\n      price: product.price?.toString() || '',\n      brand_id: product.brand_id || ''\n    });\n  };\n\n  const saveEdit = async (productId: number) => {\n    try {\n      setSaving(true);\n      await productsAPI.updateProduct(productId, {\n        product_type: editForm.product_type,\n        size_range: editForm.size_range,\n        price: editForm.price ? parseFloat(editForm.price) : undefined,\n        brand_id: editForm.brand_id ? parseInt(editForm.brand_id) : undefined\n      });\n      \n      toast.success('Ürün başarıyla güncellendi');\n      setEditingProduct(null);\n      loadData();\n    } catch (error: any) {\n      toast.error('Ürün güncellenirken hata oluştu');\n      console.error('Error updating product:', error);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const cancelEdit = () => {\n    setEditingProduct(null);\n    setEditForm({});\n  };\n\n  const handleProductSelect = (productId: number) => {\n    setSelectedProducts(prev => \n      prev.includes(productId) \n        ? prev.filter(id => id !== productId)\n        : [...prev, productId]\n    );\n  };\n\n  const handleBulkEdit = async () => {\n    if (!bulkEditField || !bulkEditValue || selectedProducts.length === 0) {\n      toast.error('Lütfen alan ve değer seçin');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      \n      const updateData: any = {};\n      if (bulkEditField === 'price') {\n        updateData[bulkEditField] = parseFloat(bulkEditValue);\n      } else if (bulkEditField === 'brand_id') {\n        updateData[bulkEditField] = parseInt(bulkEditValue);\n      } else {\n        updateData[bulkEditField] = bulkEditValue;\n      }\n\n      // Update all selected products\n      await Promise.all(\n        selectedProducts.map(productId => \n          productsAPI.updateProduct(productId, updateData)\n        )\n      );\n      \n      toast.success(`${selectedProducts.length} ürün başarıyla güncellendi`);\n      setSelectedProducts([]);\n      setShowBulkEdit(false);\n      setBulkEditField('');\n      setBulkEditValue('');\n      loadData();\n    } catch (error: any) {\n      toast.error('Toplu güncelleme hatası');\n      console.error('Error bulk updating products:', error);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const openCollageEditor = (product: Product) => {\n    setEditingCollage(product);\n    setShowCollageEditor(true);\n  };\n\n  const getProductStatus = (product: Product) => {\n    if (product.has_collage) return 'ready';\n    if (product.missing_fields && product.missing_fields.length > 0) return 'missing';\n    if (product.can_create_collage) return 'ready';\n    return 'pending';\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'ready': return 'text-green-600 bg-green-100';\n      case 'missing': return 'text-red-600 bg-red-100';\n      case 'pending': return 'text-yellow-600 bg-yellow-100';\n      default: return 'text-gray-600 bg-gray-100';\n    }\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'ready': return 'Hazır';\n      case 'missing': return 'Eksik Bilgi';\n      case 'pending': return 'Beklemede';\n      default: return 'Bilinmiyor';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <RefreshCw className=\"w-8 h-8 animate-spin text-blue-600\" />\n        <span className=\"ml-2 text-gray-600\">Yükleniyor...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Bilgilendirme Mesajı - Temiz Modern Tasarım */}\n      <div className=\"bg-gradient-to-r from-slate-50 to-blue-50 border border-slate-200 rounded-lg p-5\">\n        <div className=\"flex items-start gap-4\">\n          {/* İkon */}\n          <div className=\"flex-shrink-0 pt-0.5\">\n            <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <AlertCircle className=\"w-5 h-5 text-blue-600\" />\n            </div>\n          </div>\n          \n          {/* İçerik */}\n          <div className=\"flex-1\">\n            <h3 className=\"text-sm font-semibold text-gray-900 mb-1\">Depolama Bilgisi</h3>\n            <p className=\"text-sm text-gray-600 leading-relaxed\">\n              Ürün görselleri ve kolajlar <span className=\"font-medium text-gray-900\">24 saat</span> boyunca ücretsiz olarak saklanmaktadır. Daha uzun süre depolama için premium paketlerimizi inceleyebilirsiniz.\n            </p>\n          </div>\n          \n          {/* Buton */}\n          <div className=\"flex-shrink-0\">\n            <button className=\"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded transition-colors duration-200\">\n              Premium\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Kolaj Yönetimi</h1>\n          <p className=\"text-gray-600\">Ürün kolajlarını yönetin ve düzenleyin</p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={() => setViewMode(viewMode === 'grid' ? 'list' : 'grid')}\n            className=\"btn btn-outline btn-sm\"\n          >\n            {viewMode === 'grid' ? <List size={16} /> : <Grid size={16} />}\n          </button>\n          <button\n            onClick={loadData}\n            className=\"btn btn-outline btn-sm\"\n          >\n            <RefreshCw size={16} />\n            Yenile\n          </button>\n        </div>\n      </div>\n\n      {/* Statistics */}\n      {statistics && (\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div className=\"bg-white rounded-lg border p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Toplam Ürün</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{statistics.total_products}</p>\n              </div>\n              <Package className=\"w-8 h-8 text-blue-600\" />\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg border p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Kolaj Var</p>\n                <p className=\"text-2xl font-bold text-green-600\">{statistics.products_with_collage}</p>\n              </div>\n              <CheckCircle className=\"w-8 h-8 text-green-600\" />\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg border p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Eksik Bilgi</p>\n                <p className=\"text-2xl font-bold text-red-600\">{statistics.products_missing_info}</p>\n              </div>\n              <AlertCircle className=\"w-8 h-8 text-red-600\" />\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg border p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Tamamlanma</p>\n                <p className=\"text-2xl font-bold text-blue-600\">{statistics.completion_rate}%</p>\n              </div>\n              <Layers className=\"w-8 h-8 text-blue-600\" />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-lg border p-4\">\n        <div className=\"flex flex-wrap items-center gap-4\">\n          <div className=\"flex items-center gap-2\">\n            <Search size={16} className=\"text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Ürün ara...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"input input-sm w-64\"\n            />\n          </div>\n          \n          <select\n            value={filter}\n            onChange={(e) => setFilter(e.target.value as any)}\n            className=\"select select-sm w-48\"\n          >\n            <option value=\"all\">Tümü</option>\n            <option value=\"missing\">Eksik Bilgiler</option>\n            <option value=\"ready\">Hazır (Kolaj Yok)</option>\n            <option value=\"has_collage\">Kolaj Var</option>\n            <option value=\"telegram_sent\">Telegram Gönderildi</option>\n            <option value=\"telegram_not_sent\">Telegram Gönderilmedi</option>\n          </select>\n\n          <select\n            value={perPage}\n            onChange={(e) => setPerPage(parseInt(e.target.value))}\n            className=\"select select-sm w-24\"\n          >\n            <option value={10}>10</option>\n            <option value={20}>20</option>\n            <option value={50}>50</option>\n            <option value={100}>100</option>\n          </select>\n\n          {selectedProducts.length > 0 && (\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-gray-600\">\n                {selectedProducts.length} ürün seçildi\n              </span>\n              <button\n                onClick={() => setShowBulkEdit(true)}\n                className=\"btn btn-sm btn-primary\"\n              >\n                <Edit3 size={14} />\n                Toplu Düzenle\n              </button>\n              <button\n                onClick={() => setSelectedProducts([])}\n                className=\"btn btn-sm btn-outline\"\n              >\n                <X size={14} />\n                Temizle\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Bulk Edit Modal */}\n      {showBulkEdit && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-96\">\n            <h3 className=\"text-lg font-semibold mb-4\">Toplu Düzenleme</h3>\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Düzenlenecek Alan\n                </label>\n                <select\n                  value={bulkEditField}\n                  onChange={(e) => setBulkEditField(e.target.value)}\n                  className=\"select select-sm w-full\"\n                >\n                  <option value=\"\">Alan seçin</option>\n                  <option value=\"product_type\">Ürün Tipi</option>\n                  <option value=\"size_range\">Beden Aralığı</option>\n                  <option value=\"price\">Fiyat</option>\n                  <option value=\"brand_id\">Marka</option>\n                </select>\n              </div>\n              \n              {bulkEditField === 'brand_id' ? (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Marka\n                  </label>\n                  <select\n                    value={bulkEditValue}\n                    onChange={(e) => setBulkEditValue(e.target.value)}\n                    className=\"select select-sm w-full\"\n                  >\n                    <option value=\"\">Marka seçin</option>\n                    {brands.map(brand => (\n                      <option key={brand.id} value={brand.id}>\n                        {brand.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              ) : (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Yeni Değer\n                  </label>\n                  <input\n                    type={bulkEditField === 'price' ? 'number' : 'text'}\n                    value={bulkEditValue}\n                    onChange={(e) => setBulkEditValue(e.target.value)}\n                    placeholder=\"Değer girin\"\n                    className=\"input input-sm w-full\"\n                  />\n                </div>\n              )}\n            </div>\n            \n            <div className=\"flex justify-end gap-2 mt-6\">\n              <button\n                onClick={() => setShowBulkEdit(false)}\n                className=\"btn btn-outline btn-sm\"\n              >\n                İptal\n              </button>\n              <button\n                onClick={handleBulkEdit}\n                disabled={saving}\n                className=\"btn btn-primary btn-sm\"\n              >\n                {saving ? 'Kaydediliyor...' : 'Kaydet'}\n              </button>\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Products Grid/List */}\r\n      {viewMode === 'grid' ? (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n          {products.map((product) => {\r\n            const status = getProductStatus(product);\r\n            const isEditing = editingProduct === product.id;\r\n            const isSelected = selectedProducts.includes(product.id);\r\n            \r\n            return (\r\n              <div\r\n                key={product.id}\r\n                className={`bg-white rounded-lg border-2 transition-all ${\r\n                  isSelected ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                {/* Product Image */}\r\n                <div className=\"relative\">\r\n                  <div className=\"aspect-square bg-gray-100 rounded-t-lg overflow-hidden\">\r\n                    {product.cover_image_url ? (\r\n                      <img\r\n                        src={product.cover_image_url}\r\n                        alt={`${product.code} ${product.color}`}\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"w-full h-full flex items-center justify-center\">\r\n                        <Image className=\"w-12 h-12 text-gray-400\" />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  {/* Status Badge */}\r\n                  <div className={`absolute top-2 left-2 px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(status)}`}>\r\n                    {getStatusText(status)}\r\n                  </div>\r\n                  \r\n                  {/* Selection Checkbox */}\r\n                  <div className=\"absolute top-2 right-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={isSelected}\r\n                      onChange={() => handleProductSelect(product.id)}\r\n                      className=\"checkbox checkbox-sm\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  {/* Collage Preview */}\r\n                  {product.has_collage && product.collage_url && (\r\n                    <div className=\"absolute bottom-2 right-2\">\r\n                      <button\r\n                        onClick={() => openCollageEditor(product)}\r\n                        className=\"btn btn-xs btn-primary\"\r\n                      >\r\n                        <Eye size={12} />\r\n                        Kolaj\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Product Info */}\r\n                <div className=\"p-4\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <h3 className=\"font-semibold text-gray-900\">\r\n                      {product.code} {product.color}\r\n                    </h3>\r\n                    <span className=\"text-xs text-gray-500\">\r\n                      {product.image_count} görsel\r\n                    </span>\r\n                  </div>\r\n\r\n                  {/* Edit Form or Display */}\r\n                  {isEditing ? (\r\n                    <div className=\"space-y-2\">\r\n                      <div>\r\n                        <label className=\"text-xs font-medium text-gray-600\">Ürün Tipi</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editForm.product_type}\r\n                          onChange={(e) => setEditForm({...editForm, product_type: e.target.value})}\r\n                          className=\"input input-xs w-full\"\r\n                          placeholder=\"ELBISE, TAKIM\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"text-xs font-medium text-gray-600\">Beden</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editForm.size_range}\r\n                          onChange={(e) => setEditForm({...editForm, size_range: e.target.value})}\r\n                          className=\"input input-xs w-full\"\r\n                          placeholder=\"36-42, S-M-L\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"text-xs font-medium text-gray-600\">Fiyat</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={editForm.price}\r\n                          onChange={(e) => setEditForm({...editForm, price: e.target.value})}\r\n                          className=\"input input-xs w-full\"\r\n                          placeholder=\"64.00\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"text-xs font-medium text-gray-600\">Marka</label>\r\n                        <select\r\n                          value={editForm.brand_id}\r\n                          onChange={(e) => setEditForm({...editForm, brand_id: e.target.value})}\r\n                          className=\"select select-xs w-full\"\r\n                        >\r\n                          <option value=\"\">Marka seçin</option>\r\n                          {brands.map(brand => (\r\n                            <option key={brand.id} value={brand.id}>\r\n                              {brand.name}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"space-y-1 text-sm\">\r\n                      <div className={`${!product.product_type ? 'text-red-500' : 'text-gray-600'}`}>\r\n                        <span className=\"font-medium\">Tip:</span> {product.product_type || '❌ Eksik'}\r\n                      </div>\r\n                      <div className={`${!product.size_range ? 'text-red-500' : 'text-gray-600'}`}>\r\n                        <span className=\"font-medium\">Beden:</span> {product.size_range || '❌ Eksik'}\r\n                      </div>\r\n                      <div className={`${!product.price ? 'text-red-500' : 'text-gray-600'}`}>\r\n                        <span className=\"font-medium\">Fiyat:</span> {product.price ? `$${product.price}` : '❌ Eksik'}\r\n                      </div>\r\n                      <div className={`${!product.brand ? 'text-red-500' : 'text-gray-600'}`}>\r\n                        <span className=\"font-medium\">Marka:</span> {product.brand || '❌ Eksik'}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Actions */}\r\n                  <div className=\"flex items-center gap-2 mt-3\">\r\n                    {isEditing ? (\r\n                      <>\r\n                        <button\r\n                          onClick={() => saveEdit(product.id)}\r\n                          disabled={saving}\r\n                          className=\"btn btn-xs btn-success flex-1\"\r\n                        >\r\n                          <Save size={12} />\r\n                          {saving ? 'Kaydediliyor...' : 'Kaydet'}\r\n                        </button>\r\n                        <button\r\n                          onClick={cancelEdit}\r\n                          className=\"btn btn-xs btn-outline\"\r\n                        >\r\n                          <X size={12} />\r\n                        </button>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <button\r\n                          onClick={() => startEditing(product)}\r\n                          className=\"btn btn-xs btn-primary flex-1\"\r\n                        >\r\n                          <Edit3 size={12} />\r\n                          Düzenle\r\n                        </button>\r\n                        {product.has_collage && (\r\n                          <button\r\n                            onClick={() => openCollageEditor(product)}\r\n                            className=\"btn btn-xs btn-secondary\"\r\n                          >\r\n                            <Eye size={12} />\r\n                          </button>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      ) : (\r\n        /* List View */\r\n        <div className=\"bg-white rounded-lg border overflow-hidden\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"table table-zebra w-full\">\r\n              <thead>\r\n                <tr>\r\n                  <th>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedProducts.length === products.length && products.length > 0}\r\n                      onChange={(e) => {\r\n                        if (e.target.checked) {\r\n                          setSelectedProducts(products.map(p => p.id));\r\n                        } else {\r\n                          setSelectedProducts([]);\r\n                        }\r\n                      }}\r\n                      className=\"checkbox checkbox-sm\"\r\n                    />\r\n                  </th>\r\n                  <th>Görsel</th>\r\n                  <th>Ürün</th>\r\n                  <th>Tip</th>\r\n                  <th>Beden</th>\r\n                  <th>Fiyat</th>\r\n                  <th>Marka</th>\r\n                  <th>Durum</th>\r\n                  <th>İşlemler</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {products.map((product) => {\r\n                  const status = getProductStatus(product);\r\n                  const isEditing = editingProduct === product.id;\r\n                  const isSelected = selectedProducts.includes(product.id);\r\n                  \r\n                  return (\r\n                    <tr key={product.id} className={isSelected ? 'bg-blue-50' : ''}>\r\n                      <td>\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={isSelected}\r\n                          onChange={() => handleProductSelect(product.id)}\r\n                          className=\"checkbox checkbox-sm\"\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"w-16 h-16 bg-gray-100 rounded overflow-hidden\">\r\n                          {product.cover_image_url ? (\r\n                            <img\r\n                              src={product.cover_image_url}\r\n                              alt={`${product.code} ${product.color}`}\r\n                              className=\"w-full h-full object-cover\"\r\n                            />\r\n                          ) : (\r\n                            <div className=\"w-full h-full flex items-center justify-center\">\r\n                              <Image className=\"w-6 h-6 text-gray-400\" />\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div>\r\n                          <div className=\"font-medium\">{product.code}</div>\r\n                          <div className=\"text-sm text-gray-500\">{product.color}</div>\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        {isEditing ? (\r\n                          <input\r\n                            type=\"text\"\r\n                            value={editForm.product_type}\r\n                            onChange={(e) => setEditForm({...editForm, product_type: e.target.value})}\r\n                            className=\"input input-xs w-24\"\r\n                          />\r\n                        ) : (\r\n                          <span className={!product.product_type ? 'text-red-500' : ''}>\r\n                            {product.product_type || '❌ Eksik'}\r\n                          </span>\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        {isEditing ? (\r\n                          <input\r\n                            type=\"text\"\r\n                            value={editForm.size_range}\r\n                            onChange={(e) => setEditForm({...editForm, size_range: e.target.value})}\r\n                            className=\"input input-xs w-24\"\r\n                          />\r\n                        ) : (\r\n                          <span className={!product.size_range ? 'text-red-500' : ''}>\r\n                            {product.size_range || '❌ Eksik'}\r\n                          </span>\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        {isEditing ? (\r\n                          <input\r\n                            type=\"number\"\r\n                            value={editForm.price}\r\n                            onChange={(e) => setEditForm({...editForm, price: e.target.value})}\r\n                            className=\"input input-xs w-20\"\r\n                          />\r\n                        ) : (\r\n                          <span className={!product.price ? 'text-red-500' : ''}>\r\n                            {product.price ? `$${product.price}` : '❌ Eksik'}\r\n                          </span>\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        {isEditing ? (\r\n                          <select\r\n                            value={editForm.brand_id}\r\n                            onChange={(e) => setEditForm({...editForm, brand_id: e.target.value})}\r\n                            className=\"select select-xs w-32\"\r\n                          >\r\n                            <option value=\"\">Seçin</option>\r\n                            {brands.map(brand => (\r\n                              <option key={brand.id} value={brand.id}>\r\n                                {brand.name}\r\n                              </option>\r\n                            ))}\r\n                          </select>\r\n                        ) : (\r\n                          <span className={!product.brand ? 'text-red-500' : ''}>\r\n                            {product.brand || '❌ Eksik'}\r\n                          </span>\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(status)}`}>\r\n                          {getStatusText(status)}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"flex items-center gap-1\">\r\n                          {isEditing ? (\r\n                            <>\r\n                              <button\r\n                                onClick={() => saveEdit(product.id)}\r\n                                disabled={saving}\r\n                                className=\"btn btn-xs btn-success\"\r\n                              >\r\n                                <Save size={12} />\r\n                              </button>\r\n                              <button\r\n                                onClick={cancelEdit}\r\n                                className=\"btn btn-xs btn-outline\"\r\n                              >\r\n                                <X size={12} />\r\n                              </button>\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <button\r\n                                onClick={() => startEditing(product)}\r\n                                className=\"btn btn-xs btn-primary\"\r\n                              >\r\n                                <Edit3 size={12} />\r\n                              </button>\r\n                              {product.has_collage && (\r\n                                <button\r\n                                  onClick={() => openCollageEditor(product)}\r\n                                  className=\"btn btn-xs btn-secondary\"\r\n                                >\r\n                                  <Eye size={12} />\r\n                                </button>\r\n                              )}\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Pagination */}\r\n      {totalPages > 1 && (\r\n        <div className=\"flex items-center justify-between bg-white rounded-lg border p-4\">\r\n          <div className=\"text-sm text-gray-600\">\r\n            Sayfa {page} / {totalPages} (Toplam {products.length} ürün)\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              onClick={() => setPage(1)}\r\n              disabled={page === 1}\r\n              className=\"btn btn-sm btn-outline\"\r\n            >\r\n              İlk\r\n            </button>\r\n            <button\r\n              onClick={() => setPage(Math.max(1, page - 1))}\r\n              disabled={page === 1}\r\n              className=\"btn btn-sm btn-outline\"\r\n            >\r\n              Önceki\r\n            </button>\r\n            \r\n            {/* Show page numbers (max 5) */}\r\n            {(() => {\r\n              const startPage = Math.max(1, page - 2);\r\n              const endPage = Math.min(totalPages, page + 2);\r\n              const pages = [];\r\n              \r\n              for (let i = startPage; i <= endPage; i++) {\r\n                pages.push(\r\n                  <button\r\n                    key={i}\r\n                    onClick={() => setPage(i)}\r\n                    className={`btn btn-sm ${page === i ? 'btn-primary' : 'btn-outline'}`}\r\n                  >\r\n                    {i}\r\n                  </button>\r\n                );\r\n              }\r\n              return pages;\r\n            })()}\r\n            \r\n            <button\r\n              onClick={() => setPage(Math.min(totalPages, page + 1))}\r\n              disabled={page === totalPages}\r\n              className=\"btn btn-sm btn-outline\"\r\n            >\r\n              Sonraki\r\n            </button>\r\n            <button\r\n              onClick={() => setPage(totalPages)}\r\n              disabled={page === totalPages}\r\n              className=\"btn btn-sm btn-outline\"\r\n            >\r\n              Son\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Collage Editor Modal */}\r\n      {showCollageEditor && editingCollage && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg w-[95vw] h-[95vh] max-w-7xl\">\r\n            <div className=\"flex items-center justify-between p-4 border-b\">\r\n              <h3 className=\"text-lg font-semibold\">\r\n                Kolaj Düzenle: {editingCollage.code} {editingCollage.color}\r\n              </h3>\r\n              <button\r\n                onClick={() => {\r\n                  setShowCollageEditor(false);\r\n                  setEditingCollage(null);\r\n                }}\r\n                className=\"btn btn-sm btn-outline\"\r\n              >\r\n                <X size={16} />\r\n                Kapat\r\n              </button>\r\n            </div>\r\n            <div className=\"h-[calc(100%-80px)]\">\r\n              <CanvaLikeEditor\r\n                onSave={() => {\r\n                  setShowCollageEditor(false);\r\n                  setEditingCollage(null);\r\n                  loadData();\r\n                }}\r\n                onClose={() => {\r\n                  setShowCollageEditor(false);\r\n                  setEditingCollage(null);\r\n                }}\r\n                initialTemplate={{\r\n                  type: 'collage',\r\n                  productId: editingCollage.id,\r\n                  collageUrl: editingCollage.collage_url\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Collages;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}