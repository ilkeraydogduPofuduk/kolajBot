{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ilker\\\\Desktop\\\\aibrands\\\\frontend\\\\src\\\\components\\\\modals\\\\DynamicChannelModal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { X, Send, AlertCircle, Bot, Hash, RefreshCw } from 'lucide-react';\nimport { socialMediaChannelsAPI } from '../../api/socialMediaChannels';\nimport { brandsAPI } from '../../api/brands';\nimport { telegramBotsAPI } from '../../api/telegramBots';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DynamicChannelModal = ({\n  isOpen,\n  onClose,\n  platform,\n  onSuccess,\n  editingChannel\n}) => {\n  _s();\n  const [bots, setBots] = useState([]);\n  const [brands, setBrands] = useState([]);\n  const [selectedBotId, setSelectedBotId] = useState(null);\n  const [channelIdentifier, setChannelIdentifier] = useState('');\n  const [selectedBrandId, setSelectedBrandId] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [loadingBots, setLoadingBots] = useState(false);\n  const [verifying, setVerifying] = useState(false);\n  const [showInstructions, setShowInstructions] = useState(false);\n  const [selectedBot, setSelectedBot] = useState(null);\n  useEffect(() => {\n    if (isOpen && platform) {\n      loadBots();\n      loadBrands();\n    }\n  }, [isOpen, platform]);\n  const loadBots = async () => {\n    try {\n      setLoadingBots(true);\n      const response = await telegramBotsAPI.getBots();\n      setBots(response.bots.filter(bot => bot.is_active));\n    } catch (error) {\n      console.error('Bot listesi yüklenirken hata:', error);\n      toast.error('Bot listesi yüklenemedi');\n    } finally {\n      setLoadingBots(false);\n    }\n  };\n  const loadBrands = async () => {\n    try {\n      const response = await brandsAPI.getBrands(1, 1000);\n      setBrands(response.brands);\n    } catch (error) {\n      console.error('Error loading brands:', error);\n    }\n  };\n\n  // Bot değiştiğinde talimatları göster\n  const handleBotChange = botId => {\n    setSelectedBotId(botId);\n    const bot = bots.find(b => b.id === botId);\n    setSelectedBot(bot || null);\n    if (botId && channelIdentifier.trim()) {\n      setShowInstructions(true);\n    }\n  };\n\n  // Kanal identifier değiştiğinde\n  const handleChannelChange = value => {\n    setChannelIdentifier(value);\n    if (selectedBotId && value.trim()) {\n      setShowInstructions(true);\n    }\n  };\n\n  // Bot doğrulama ve kanal ekleme\n  const handleVerifyAndAdd = async () => {\n    if (!selectedBotId) {\n      toast.error('Lütfen bir bot seçin');\n      return;\n    }\n    if (!channelIdentifier.trim()) {\n      toast.error('Lütfen kanal username veya link girin');\n      return;\n    }\n    if (!selectedBrandId) {\n      toast.error('Lütfen bir marka seçin');\n      return;\n    }\n    setVerifying(true);\n    try {\n      // Botu kanala ekle ve doğrula\n      await socialMediaChannelsAPI.addChannelByBot({\n        telegram_bot_id: selectedBotId,\n        channel_identifier: channelIdentifier.trim(),\n        brand_id: selectedBrandId\n      });\n      toast.success('✅ Bot doğrulandı ve kanal eklendi!');\n      onSuccess();\n      onClose();\n\n      // Form reset\n      setSelectedBotId(null);\n      setChannelIdentifier('');\n      setSelectedBrandId(0);\n      setShowInstructions(false);\n      setSelectedBot(null);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Kanal eklenirken hata:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'Kanal eklenemedi';\n\n      // Eğer bot yönetici değilse, talimatları göster\n      if (errorMessage.includes('yönetici değil') || errorMessage.includes('admin')) {\n        toast.error('⚠️ Bot kanalda yönetici değil. Lütfen önce botu kanala yönetici olarak ekleyin.');\n        setShowInstructions(true);\n      } else {\n        toast.error(errorMessage);\n      }\n    } finally {\n      setVerifying(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await handleVerifyAndAdd();\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 rounded-lg bg-blue-100\",\n            children: /*#__PURE__*/_jsxDEV(Send, {\n              className: \"h-5 w-5 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold\",\n              children: \"Telegram Kanal\\u0131 Ekle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Bot se\\xE7erek kanal ekleyin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-1 hover:bg-gray-100 rounded-lg transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 20,\n            className: \"text-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Bot, {\n              className: \"inline mr-1\",\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), \"1. Bot Se\\xE7in *\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), loadingBots ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500 py-2\",\n            children: \"Botlar y\\xFCkleniyor...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this) : bots.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-3\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-yellow-800\",\n              children: \"\\u26A0\\uFE0F Hen\\xFCz bot eklenmemi\\u015F. \\xD6nce admin panelden bot ekleyin.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedBotId || '',\n            onChange: e => handleBotChange(Number(e.target.value)),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Bir bot se\\xE7in...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), bots.map(bot => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: bot.id,\n              children: [bot.bot_name, \" (@\", bot.bot_username, \")\", bot.channel_count ? ` - ${bot.channel_count} kanal` : '']\n            }, bot.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), selectedBot && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-blue-800\",\n              children: [\"\\u2713 Se\\xE7ili bot: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: selectedBot.bot_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 33\n              }, this), \" (@\", selectedBot.bot_username, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Hash, {\n              className: \"inline mr-1\",\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), \"2. Kanal Username veya Link *\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: channelIdentifier,\n            onChange: e => handleChannelChange(e.target.value),\n            placeholder: \"@kanaladim veya https://t.me/kanaladim\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n            required: true,\n            disabled: !selectedBotId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-2\",\n            children: \"Kanal username'ini (@kanaladim) veya davet linkini girin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), selectedBotId && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-yellow-800 font-medium mb-1\",\n              children: \"\\u26A0\\uFE0F \\xD6nemli Ad\\u0131mlar:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"text-xs text-yellow-800 space-y-1 list-decimal list-inside\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Telegram'da kanal\\u0131n\\u0131za gidin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Kanal ayarlar\\u0131ndan \\\"Y\\xF6neticiler\\\" b\\xF6l\\xFCm\\xFCne gidin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"@\", selectedBot === null || selectedBot === void 0 ? void 0 : selectedBot.bot_username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 23\n                }, this), \" botunu y\\xF6netici olarak ekleyin\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Bot'a \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"mesaj g\\xF6nderme\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 29\n                }, this), \" yetkisi verin\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Bu formu doldurun ve ekleyin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"3. Marka Se\\xE7in *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedBrandId,\n            onChange: e => setSelectedBrandId(Number(e.target.value)),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n            required: true,\n            disabled: !selectedBotId,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 0,\n              children: \"Bir marka se\\xE7in...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), brands.map(brand => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: brand.id,\n              children: brand.name\n            }, brand.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), showInstructions && selectedBot && channelIdentifier.trim() && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-300 rounded-xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-orange-900 mb-3 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), \"\\uD83D\\uDE80 H\\u0131zl\\u0131 Kurulum Ad\\u0131mlar\\u0131\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white p-3 rounded-lg shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-900 mb-2\",\n                children: \"1\\uFE0F\\u20E3 Telegram'da kanal\\u0131n\\u0131za gidin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-600 ml-5\",\n                children: [channelIdentifier.startsWith('@') ? channelIdentifier : `@${channelIdentifier}`, \" kanal\\u0131n\\u0131z\\u0131 a\\xE7\\u0131n\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white p-3 rounded-lg shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-900 mb-2\",\n                children: \"2\\uFE0F\\u20E3 Botu y\\xF6netici olarak ekleyin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-600 ml-5 space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\u2022 Kanal ayarlar\\u0131 \\u2192 Y\\xF6neticiler \\u2192 Y\\xF6netici Ekle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-mono bg-blue-50 p-1 rounded\",\n                  children: [\"@\", selectedBot.bot_username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"\\\"Mesaj G\\xF6nderme\\\"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 26\n                  }, this), \" yetkisini verin\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white p-3 rounded-lg shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-900 mb-2\",\n                children: \"3\\uFE0F\\u20E3 Botu ekledikten sonra do\\u011Frula\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-600 ml-5\",\n                children: \"A\\u015Fa\\u011F\\u0131daki \\\"Do\\u011Frula ve Ekle\\\" butonuna t\\u0131klay\\u0131n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3 pt-4 border-t\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            className: \"flex-1 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\",\n            disabled: verifying,\n            children: \"\\u0130ptal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: verifying || !selectedBotId || !channelIdentifier.trim() || !selectedBrandId || bots.length === 0,\n            className: \"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed font-medium\",\n            children: verifying ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center justify-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"animate-spin\",\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this), \"Do\\u011Frulan\\u0131yor...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this) : showInstructions ? '✓ Doğrula ve Ekle' : 'Kanal Ekle'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n};\n_s(DynamicChannelModal, \"nIGVoBevi5nxAV2UHkRKTj82ktI=\");\n_c = DynamicChannelModal;\nexport default DynamicChannelModal;\nvar _c;\n$RefreshReg$(_c, \"DynamicChannelModal\");","map":{"version":3,"names":["React","useState","useEffect","X","Send","AlertCircle","Bot","Hash","RefreshCw","socialMediaChannelsAPI","brandsAPI","telegramBotsAPI","toast","jsxDEV","_jsxDEV","DynamicChannelModal","isOpen","onClose","platform","onSuccess","editingChannel","_s","bots","setBots","brands","setBrands","selectedBotId","setSelectedBotId","channelIdentifier","setChannelIdentifier","selectedBrandId","setSelectedBrandId","loading","setLoading","loadingBots","setLoadingBots","verifying","setVerifying","showInstructions","setShowInstructions","selectedBot","setSelectedBot","loadBots","loadBrands","response","getBots","filter","bot","is_active","error","console","getBrands","handleBotChange","botId","find","b","id","trim","handleChannelChange","value","handleVerifyAndAdd","addChannelByBot","telegram_bot_id","channel_identifier","brand_id","success","_error$response","_error$response$data","errorMessage","data","detail","includes","handleSubmit","e","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","onSubmit","length","onChange","Number","target","required","map","bot_name","bot_username","channel_count","type","placeholder","disabled","brand","name","startsWith","_c","$RefreshReg$"],"sources":["C:/Users/ilker/Desktop/aibrands/frontend/src/components/modals/DynamicChannelModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { X, Send, AlertCircle, Bot, Hash, RefreshCw } from 'lucide-react';\nimport { socialMediaChannelsAPI } from '../../api/socialMediaChannels';\nimport { brandsAPI } from '../../api/brands';\nimport { telegramBotsAPI, TelegramBot } from '../../api/telegramBots';\nimport toast from 'react-hot-toast';\n\ninterface ChannelModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  platform: 'telegram' | null;\n  onSuccess: () => void;\n  editingChannel?: any;\n}\n\nconst DynamicChannelModal: React.FC<ChannelModalProps> = ({\n  isOpen,\n  onClose,\n  platform,\n  onSuccess,\n  editingChannel\n}) => {\n  const [bots, setBots] = useState<TelegramBot[]>([]);\n  const [brands, setBrands] = useState<any[]>([]);\n  const [selectedBotId, setSelectedBotId] = useState<number | null>(null);\n  const [channelIdentifier, setChannelIdentifier] = useState('');\n  const [selectedBrandId, setSelectedBrandId] = useState<number>(0);\n  const [loading, setLoading] = useState(false);\n  const [loadingBots, setLoadingBots] = useState(false);\n  const [verifying, setVerifying] = useState(false);\n  const [showInstructions, setShowInstructions] = useState(false);\n  const [selectedBot, setSelectedBot] = useState<TelegramBot | null>(null);\n\n  useEffect(() => {\n    if (isOpen && platform) {\n      loadBots();\n      loadBrands();\n    }\n  }, [isOpen, platform]);\n\n  const loadBots = async () => {\n    try {\n      setLoadingBots(true);\n      const response = await telegramBotsAPI.getBots();\n      setBots(response.bots.filter(bot => bot.is_active));\n    } catch (error) {\n      console.error('Bot listesi yüklenirken hata:', error);\n      toast.error('Bot listesi yüklenemedi');\n    } finally {\n      setLoadingBots(false);\n    }\n  };\n\n  const loadBrands = async () => {\n    try {\n      const response = await brandsAPI.getBrands(1, 1000);\n      setBrands(response.brands);\n    } catch (error) {\n      console.error('Error loading brands:', error);\n    }\n  };\n\n  // Bot değiştiğinde talimatları göster\n  const handleBotChange = (botId: number) => {\n    setSelectedBotId(botId);\n    const bot = bots.find(b => b.id === botId);\n    setSelectedBot(bot || null);\n    if (botId && channelIdentifier.trim()) {\n      setShowInstructions(true);\n    }\n  };\n\n  // Kanal identifier değiştiğinde\n  const handleChannelChange = (value: string) => {\n    setChannelIdentifier(value);\n    if (selectedBotId && value.trim()) {\n      setShowInstructions(true);\n    }\n  };\n\n  // Bot doğrulama ve kanal ekleme\n  const handleVerifyAndAdd = async () => {\n    if (!selectedBotId) {\n      toast.error('Lütfen bir bot seçin');\n      return;\n    }\n\n    if (!channelIdentifier.trim()) {\n      toast.error('Lütfen kanal username veya link girin');\n      return;\n    }\n\n    if (!selectedBrandId) {\n      toast.error('Lütfen bir marka seçin');\n      return;\n    }\n\n    setVerifying(true);\n    try {\n      // Botu kanala ekle ve doğrula\n      await socialMediaChannelsAPI.addChannelByBot({\n        telegram_bot_id: selectedBotId,\n        channel_identifier: channelIdentifier.trim(),\n        brand_id: selectedBrandId\n      });\n\n      toast.success('✅ Bot doğrulandı ve kanal eklendi!');\n      onSuccess();\n      onClose();\n      \n      // Form reset\n      setSelectedBotId(null);\n      setChannelIdentifier('');\n      setSelectedBrandId(0);\n      setShowInstructions(false);\n      setSelectedBot(null);\n    } catch (error: any) {\n      console.error('Kanal eklenirken hata:', error);\n      const errorMessage = error.response?.data?.detail || 'Kanal eklenemedi';\n      \n      // Eğer bot yönetici değilse, talimatları göster\n      if (errorMessage.includes('yönetici değil') || errorMessage.includes('admin')) {\n        toast.error('⚠️ Bot kanalda yönetici değil. Lütfen önce botu kanala yönetici olarak ekleyin.');\n        setShowInstructions(true);\n      } else {\n        toast.error(errorMessage);\n      }\n    } finally {\n      setVerifying(false);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    await handleVerifyAndAdd();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 rounded-lg bg-blue-100\">\n              <Send className=\"h-5 w-5 text-blue-600\" />\n            </div>\n            <div>\n              <h2 className=\"text-lg font-semibold\">\n                Telegram Kanalı Ekle\n              </h2>\n              <p className=\"text-sm text-gray-600\">\n                Bot seçerek kanal ekleyin\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-1 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <X size={20} className=\"text-gray-500\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* Step 1: Bot Seçimi */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Bot className=\"inline mr-1\" size={16} />\n              1. Bot Seçin *\n            </label>\n            \n            {loadingBots ? (\n              <div className=\"text-sm text-gray-500 py-2\">Botlar yükleniyor...</div>\n            ) : bots.length === 0 ? (\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n                <p className=\"text-sm text-yellow-800\">\n                  ⚠️ Henüz bot eklenmemiş. Önce admin panelden bot ekleyin.\n                </p>\n              </div>\n            ) : (\n              <select\n                value={selectedBotId || ''}\n                onChange={(e) => handleBotChange(Number(e.target.value))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                required\n              >\n                <option value=\"\">Bir bot seçin...</option>\n                {bots.map((bot) => (\n                  <option key={bot.id} value={bot.id}>\n                    {bot.bot_name} (@{bot.bot_username})\n                    {bot.channel_count ? ` - ${bot.channel_count} kanal` : ''}\n                  </option>\n                ))}\n              </select>\n            )}\n\n            {selectedBot && (\n              <div className=\"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n                <p className=\"text-xs text-blue-800\">\n                  ✓ Seçili bot: <strong>{selectedBot.bot_name}</strong> (@{selectedBot.bot_username})\n                </p>\n              </div>\n            )}\n          </div>\n\n          {/* Step 2: Kanal Username/Link */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Hash className=\"inline mr-1\" size={16} />\n              2. Kanal Username veya Link *\n            </label>\n            <input\n              type=\"text\"\n              value={channelIdentifier}\n              onChange={(e) => handleChannelChange(e.target.value)}\n              placeholder=\"@kanaladim veya https://t.me/kanaladim\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              required\n              disabled={!selectedBotId}\n            />\n            <p className=\"text-xs text-gray-500 mt-2\">\n              Kanal username'ini (@kanaladim) veya davet linkini girin\n            </p>\n            \n            {selectedBotId && (\n              <div className=\"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\n                <p className=\"text-xs text-yellow-800 font-medium mb-1\">\n                  ⚠️ Önemli Adımlar:\n                </p>\n                <ol className=\"text-xs text-yellow-800 space-y-1 list-decimal list-inside\">\n                  <li>Telegram'da kanalınıza gidin</li>\n                  <li>Kanal ayarlarından \"Yöneticiler\" bölümüne gidin</li>\n                  <li><strong>@{selectedBot?.bot_username}</strong> botunu yönetici olarak ekleyin</li>\n                  <li>Bot'a <strong>mesaj gönderme</strong> yetkisi verin</li>\n                  <li>Bu formu doldurun ve ekleyin</li>\n                </ol>\n              </div>\n            )}\n          </div>\n\n          {/* Step 3: Marka Seçimi */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              3. Marka Seçin *\n            </label>\n            <select\n              value={selectedBrandId}\n              onChange={(e) => setSelectedBrandId(Number(e.target.value))}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              required\n              disabled={!selectedBotId}\n            >\n              <option value={0}>Bir marka seçin...</option>\n              {brands.map((brand) => (\n                <option key={brand.id} value={brand.id}>\n                  {brand.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Ek Talimatlar */}\n          {showInstructions && selectedBot && channelIdentifier.trim() && (\n            <div className=\"p-4 bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-300 rounded-xl\">\n              <h4 className=\"font-semibold text-orange-900 mb-3 flex items-center gap-2\">\n                <AlertCircle size={20} />\n                🚀 Hızlı Kurulum Adımları\n              </h4>\n              <div className=\"space-y-3\">\n                <div className=\"bg-white p-3 rounded-lg shadow-sm\">\n                  <p className=\"text-sm font-medium text-gray-900 mb-2\">\n                    1️⃣ Telegram'da kanalınıza gidin\n                  </p>\n                  <p className=\"text-xs text-gray-600 ml-5\">\n                    {channelIdentifier.startsWith('@') ? channelIdentifier : `@${channelIdentifier}`} kanalınızı açın\n                  </p>\n                </div>\n                \n                <div className=\"bg-white p-3 rounded-lg shadow-sm\">\n                  <p className=\"text-sm font-medium text-gray-900 mb-2\">\n                    2️⃣ Botu yönetici olarak ekleyin\n                  </p>\n                  <div className=\"text-xs text-gray-600 ml-5 space-y-1\">\n                    <p>• Kanal ayarları → Yöneticiler → Yönetici Ekle</p>\n                    <p className=\"font-mono bg-blue-50 p-1 rounded\">\n                      @{selectedBot.bot_username}\n                    </p>\n                    <p>• <strong>\"Mesaj Gönderme\"</strong> yetkisini verin</p>\n                  </div>\n                </div>\n                \n                <div className=\"bg-white p-3 rounded-lg shadow-sm\">\n                  <p className=\"text-sm font-medium text-gray-900 mb-2\">\n                    3️⃣ Botu ekledikten sonra doğrula\n                  </p>\n                  <p className=\"text-xs text-gray-600 ml-5\">\n                    Aşağıdaki \"Doğrula ve Ekle\" butonuna tıklayın\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Form Actions */}\n          <div className=\"flex gap-3 pt-4 border-t\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\n              disabled={verifying}\n            >\n              İptal\n            </button>\n            <button\n              type=\"submit\"\n              disabled={verifying || !selectedBotId || !channelIdentifier.trim() || !selectedBrandId || bots.length === 0}\n              className=\"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\n            >\n              {verifying ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <RefreshCw className=\"animate-spin\" size={16} />\n                  Doğrulanıyor...\n                </span>\n              ) : showInstructions ? (\n                '✓ Doğrula ve Ekle'\n              ) : (\n                'Kanal Ekle'\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default DynamicChannelModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}