{"ast":null,"code":"import api from'../utils/api';export const socialMediaChannelsAPI={// Get platform configurations\ngetPlatforms:async()=>{const response=await api.get('/api/social-media/platforms');return response.data;},// Telegram helpers\ndiscoverTelegramChats:async bot_token=>{const response=await api.post('/api/social-media/telegram/discover',{bot_token});return response.data;},getTelegramChatInfo:async(bot_token,chat_id)=>{const response=await api.post('/api/social-media/telegram/chat-info',{bot_token,chat_id});return response.data;},// Get channels with filtering and pagination\ngetChannels:async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let per_page=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;let platform=arguments.length>2?arguments[2]:undefined;let brand_id=arguments.length>3?arguments[3]:undefined;let search=arguments.length>4?arguments[4]:undefined;const params=new URLSearchParams({page:page.toString(),per_page:per_page.toString()});if(platform)params.append('platform',platform);if(brand_id)params.append('brand_id',brand_id.toString());if(search)params.append('search',search);const response=await api.get(\"/api/social-media/channels?\".concat(params.toString()));return response.data;},// Get single channel\ngetChannel:async channelId=>{const response=await api.get(\"/api/social-media/channels/\".concat(channelId));return response.data;},// Get channel statistics\ngetStatistics:async()=>{const response=await api.get('/api/social-media/channels/statistics');return response.data;},// Create a new channel\ncreateChannel:async channelData=>{const response=await api.post('/api/social-media/channels',channelData);return response.data;},// Update a channel\nupdateChannel:async(channelId,channelData)=>{const response=await api.put(\"/api/social-media/channels/\".concat(channelId),channelData);return response.data;},// Delete a channel\ndeleteChannel:async channelId=>{await api.delete(\"/api/social-media/channels/\".concat(channelId));},// Toggle channel status\ntoggleChannelStatus:async channelId=>{const response=await api.patch(\"/api/social-media/channels/\".concat(channelId,\"/toggle\"));return response.data;},// Health check\ntestHealth:async channelId=>{const response=await api.post(\"/api/social-media/channels/\".concat(channelId,\"/health\"));return response.data;},// Token rotate\nrotateToken:async(channelId,token)=>{const response=await api.post(\"/api/social-media/channels/\".concat(channelId,\"/rotate-token\"),{token});return response.data;},// Refresh channel info\nrefreshChannelInfo:async channelId=>{const response=await api.post(\"/api/social-media/channels/\".concat(channelId,\"/refresh-info\"));return response.data;},// Add channel by username or chat_id\naddChannelByUsername:async(botToken,channelUsername,brandId,chatId)=>{const payload={bot_token:botToken,brand_id:brandId};if(chatId){payload.chat_id=chatId;}if(channelUsername){payload.channel_username=channelUsername;}const response=await api.post('/api/social-media/channels/add-by-username',payload);return response.data;},// Assign users to channel\nassignUsersToChannel:async(channelId,userIds)=>{const response=await api.put(\"/api/social-media/channels/\".concat(channelId,\"/assign-users\"),{user_ids:userIds});return response.data;},// Get assigned users for channel\ngetChannelAssignedUsers:async channelId=>{const response=await api.get(\"/api/social-media/channels/\".concat(channelId,\"/assigned-users\"));return response.data;}};","map":{"version":3,"names":["api","socialMediaChannelsAPI","getPlatforms","response","get","data","discoverTelegramChats","bot_token","post","getTelegramChatInfo","chat_id","getChannels","page","arguments","length","undefined","per_page","platform","brand_id","search","params","URLSearchParams","toString","append","concat","getChannel","channelId","getStatistics","createChannel","channelData","updateChannel","put","deleteChannel","delete","toggleChannelStatus","patch","testHealth","rotateToken","token","refreshChannelInfo","addChannelByUsername","botToken","channelUsername","brandId","chatId","payload","channel_username","assignUsersToChannel","userIds","user_ids","getChannelAssignedUsers"],"sources":["C:/Users/ilker/Desktop/aibrands/frontend/src/api/socialMediaChannels.ts"],"sourcesContent":["import api from '../utils/api';\n\nexport interface SocialMediaChannel {\n  id: number;\n  name: string;\n  platform: 'telegram';\n  type: 'group' | 'channel';\n  channel_id: string;\n  member_count: number;\n  is_active: boolean;\n  last_activity?: string;\n  // Telegram specific\n  bot_token?: string;\n  chat_id?: string;\n  brand_id: number;\n  brand_name: string;\n  assigned_user_ids?: number[];\n  created_at: string;\n  updated_at: string;\n  created_by: number;\n  creator_name: string;\n  updated_by?: number;\n  updater_name?: string;\n}\n\nexport interface SocialMediaChannelCreate {\n  name: string;\n  platform: 'telegram';\n  type: 'group' | 'channel';\n  channel_id: string;\n  member_count?: number;\n  is_active?: boolean;\n  // Telegram specific\n  bot_token?: string;\n  chat_id?: string;\n  brand_id: number;\n}\n\nexport interface SocialMediaChannelUpdate {\n  name?: string;\n  platform?: 'telegram';\n  type?: 'group' | 'channel';\n  channel_id?: string;\n  member_count?: number;\n  is_active?: boolean;\n  // Telegram specific\n  bot_token?: string;\n  chat_id?: string;\n}\n\nexport interface SocialMediaChannelListResponse {\n  channels: SocialMediaChannel[];\n  total: number;\n  page: number;\n  per_page: number;\n  total_pages: number;\n}\n\nexport interface ChannelStatistics {\n  total_channels: number;\n  telegram_channels: number;\n  active_channels: number;\n  total_members: number;\n}\n\nexport const socialMediaChannelsAPI = {\n  // Get platform configurations\n  getPlatforms: async (): Promise<any> => {\n    const response = await api.get('/api/social-media/platforms');\n    return response.data;\n  },\n\n  // Telegram helpers\n  discoverTelegramChats: async (bot_token: string): Promise<{ \n    success: boolean;\n    chats: Array<{ \n      chat_id: string; \n      type?: string; \n      title?: string; \n      username?: string;\n      member_count?: number;\n      description?: string;\n      invite_link?: string;\n      is_admin?: boolean;\n    }>;\n    message?: string;\n    instructions?: string[];\n    bot_info?: {\n      id: number;\n      username: string;\n      first_name: string;\n      can_join_groups: boolean;\n      can_read_all_group_messages: boolean;\n    };\n  }> => {\n    const response = await api.post('/api/social-media/telegram/discover', { bot_token });\n    return response.data;\n  },\n  getTelegramChatInfo: async (bot_token: string, chat_id: string): Promise<{ chat_id: string; type?: string; title?: string; username?: string; member_count?: number }> => {\n    const response = await api.post('/api/social-media/telegram/chat-info', { bot_token, chat_id });\n    return response.data;\n  },\n\n  // Get channels with filtering and pagination\n  getChannels: async (\n    page: number = 1,\n    per_page: number = 10,\n    platform?: string,\n    brand_id?: number,\n    search?: string\n  ): Promise<SocialMediaChannelListResponse> => {\n    const params = new URLSearchParams({\n      page: page.toString(),\n      per_page: per_page.toString(),\n    });\n\n    if (platform) params.append('platform', platform);\n    if (brand_id) params.append('brand_id', brand_id.toString());\n    if (search) params.append('search', search);\n\n    const response = await api.get(`/api/social-media/channels?${params.toString()}`);\n    return response.data;\n  },\n\n  // Get single channel\n  getChannel: async (channelId: number): Promise<SocialMediaChannel> => {\n    const response = await api.get(`/api/social-media/channels/${channelId}`);\n    return response.data;\n  },\n\n  // Get channel statistics\n  getStatistics: async (): Promise<ChannelStatistics> => {\n    const response = await api.get('/api/social-media/channels/statistics');\n    return response.data;\n  },\n\n  // Create a new channel\n  createChannel: async (channelData: SocialMediaChannelCreate): Promise<SocialMediaChannel> => {\n    const response = await api.post('/api/social-media/channels', channelData);\n    return response.data;\n  },\n\n  // Update a channel\n  updateChannel: async (channelId: number, channelData: SocialMediaChannelUpdate): Promise<SocialMediaChannel> => {\n    const response = await api.put(`/api/social-media/channels/${channelId}`, channelData);\n    return response.data;\n  },\n\n  // Delete a channel\n  deleteChannel: async (channelId: number): Promise<void> => {\n    await api.delete(`/api/social-media/channels/${channelId}`);\n  },\n\n  // Toggle channel status\n  toggleChannelStatus: async (channelId: number): Promise<{ message: string; is_active: boolean }> => {\n    const response = await api.patch(`/api/social-media/channels/${channelId}/toggle`);\n    return response.data;\n  },\n\n  // Health check\n  testHealth: async (\n    channelId: number\n  ): Promise<{ connection_status: 'connected' | 'disconnected' | 'error'; test_message_sent: boolean; test_message_error?: string | null }> => {\n    const response = await api.post(`/api/social-media/channels/${channelId}/health`);\n    return response.data;\n  },\n\n  // Token rotate\n  rotateToken: async (channelId: number, token: string): Promise<{ message: string; token_preview: string }> => {\n    const response = await api.post(`/api/social-media/channels/${channelId}/rotate-token`, { token });\n    return response.data;\n  },\n\n  // Refresh channel info\n  refreshChannelInfo: async (channelId: number): Promise<SocialMediaChannel> => {\n    const response = await api.post(`/api/social-media/channels/${channelId}/refresh-info`);\n    return response.data;\n  },\n\n  // Add channel by username or chat_id\n  addChannelByUsername: async (botToken: string, channelUsername: string | null, brandId: number, chatId?: string): Promise<{\n    success: boolean;\n    message: string;\n    channel: {\n      id: number;\n      name: string;\n      username: string;\n      chat_id: string;\n      member_count: number;\n      type: string;\n    };\n  }> => {\n    const payload: any = { bot_token: botToken, brand_id: brandId };\n    if (chatId) {\n      payload.chat_id = chatId;\n    }\n    if (channelUsername) {\n      payload.channel_username = channelUsername;\n    }\n    const response = await api.post('/api/social-media/channels/add-by-username', payload);\n    return response.data;\n  },\n\n  // Assign users to channel\n  assignUsersToChannel: async (channelId: number, userIds: number[]): Promise<any> => {\n    const response = await api.put(`/api/social-media/channels/${channelId}/assign-users`, { user_ids: userIds });\n    return response.data;\n  },\n\n  // Get assigned users for channel\n  getChannelAssignedUsers: async (channelId: number): Promise<any> => {\n    const response = await api.get(`/api/social-media/channels/${channelId}/assigned-users`);\n    return response.data;\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}