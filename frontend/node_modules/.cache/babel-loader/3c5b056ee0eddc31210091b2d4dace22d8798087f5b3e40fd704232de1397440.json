{"ast":null,"code":"import _objectSpread from\"C:/Users/ilker/Desktop/aibrands/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{settingsAPI}from'../../api/settings';import{Settings as SettingsIcon,Database,Mail,Eye,EyeOff}from'lucide-react';import{useAuth}from'../../hooks/useAuth';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Settings=()=>{const{user}=useAuth();const[settings,setSettings]=useState([]);const[loading,setLoading]=useState(true);// const [saving, setSaving] = useState(false);\nconst[formData,setFormData]=useState({});const[activeTab,setActiveTab]=useState('ocr');// const [scrollPosition, setScrollPosition] = useState(0);\nconst[showPasswords,setShowPasswords]=useState({});useEffect(()=>{loadSettings();// Scroll position'ı restore et\nconst savedScrollPosition=sessionStorage.getItem('settings-scroll-position');if(savedScrollPosition){setTimeout(()=>{window.scrollTo(0,parseInt(savedScrollPosition));},100);}// Scroll event listener ekle\nconst handleScroll=()=>{// setScrollPosition(window.scrollY);\nsessionStorage.setItem('settings-scroll-position',window.scrollY.toString());};window.addEventListener('scroll',handleScroll);return()=>{window.removeEventListener('scroll',handleScroll);};},[]);const loadSettings=async()=>{try{setLoading(true);const response=await settingsAPI.getSettings();setSettings(response.settings);// Form data'yı başlat\nconst initialData={};response.settings.forEach(setting=>{initialData[setting.key]=setting.value;});setFormData(initialData);}catch(error){toast.error('Ayarlar yüklenemedi');}finally{setLoading(false);}};// Debounce için timer'ları sakla\nconst debounceTimers=useRef({});const handleInputChange=(key,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value}));// Önceki timer'ı temizle\nif(debounceTimers.current[key]){clearTimeout(debounceTimers.current[key]);}// Yeni timer başlat - 2 saniye sonra kaydet\ndebounceTimers.current[key]=setTimeout(()=>{handleAutoSave(key,value);},2000);};const handleAutoSave=async(settingKey,newValue)=>{try{// setSaving(true);\n// Eski değerle aynıysa kaydetme\nconst originalSetting=settings.find(s=>s.key===settingKey);if(originalSetting&&newValue===originalSetting.value){return;}// Category'yi bul\nconst category=(originalSetting===null||originalSetting===void 0?void 0:originalSetting.category)||'general';await settingsAPI.updateSetting(settingKey,newValue,category);// Sadece ilgili setting'i güncelle (tüm sayfayı yenileme)\nsetSettings(prev=>prev.map(s=>s.key===settingKey?_objectSpread(_objectSpread({},s),{},{value:newValue}):s));// FormData'yı güncelle\nsetFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[settingKey]:newValue}));// Scroll position'ı koru\nconst currentScrollPosition=window.scrollY;sessionStorage.setItem('settings-scroll-position',currentScrollPosition.toString());toast.success(\"\".concat(settingKey.replace(/_/g,' '),\" g\\xFCncellendi\"),{duration:2000});}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Ayar kaydedilemedi');}finally{// setSaving(false);\n}};// const getSettingIcon = (key: string) => {\n//   if (key.includes('email') || key.includes('notification')) return Mail;\n//   if (key.includes('site') || key.includes('url')) return Globe;\n//   if (key.includes('session') || key.includes('timeout') || key.includes('expire')) return Clock;\n//   if (key.includes('login') || key.includes('security') || key.includes('password')) return SettingsIcon;\n//   if (key.includes('user') || key.includes('employee')) return Users;\n//   if (key.includes('backup') || key.includes('database')) return Database;\n//   return SettingsIcon;\n// };\nconst togglePasswordVisibility=key=>{setShowPasswords(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:!prev[key]}));};// Mağaza Yöneticisi için görülebilir ayarları filtrele\nconst getVisibleSettings=settings=>{if(!user)return settings;if(user.role==='Super Admin'){return settings;// Super Admin tüm ayarları görebilir\n}if(user.role==='Mağaza Yöneticisi'){// Mağaza Yöneticisi sadece belirli ayarları görebilir\nreturn settings.filter(setting=>{const allowedCategories=['email','general'];const allowedKeys=['from_email','from_name','company_name','support_email','support_phone','smtp_server','smtp_port','smtp_username','smtp_password','smtp_use_ssl','smtp_use_tls','site_name','site_description','site_url'];return allowedCategories.includes(setting.category)&&allowedKeys.includes(setting.key);});}return[];// Diğer roller ayarları göremez\n};// const getCategoryIcon = (category: string) => {\n//   switch (category) {\n//     case 'E-posta Ayarları':\n//       return <Mail className=\"h-5 w-5 text-blue-600\" />;\n//     case 'Güvenlik':\n//       return <SettingsIcon className=\"h-5 w-5 text-red-600\" />;\n//     case 'Sistem':\n//       return <Database className=\"h-5 w-5 text-orange-600\" />;\n//     case 'Genel Ayarlar':\n//       return <Globe className=\"h-5 w-5 text-indigo-600\" />;\n//     default:\n//       return <SettingsIcon className=\"h-5 w-5 text-gray-600\" />;\n//   }\n// };\n// Kategori sıralama düzeni\n// const categoryOrder = [\n//   'Genel Ayarlar',\n//   'E-posta Ayarları', \n//   'Güvenlik',\n//   'Sistem',\n//   'Diğer'\n// ];\nconst renderSettingInput=setting=>{const value=formData[setting.key]||'';// Boolean settings\nif(setting.value==='true'||setting.value==='false'){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"relative inline-flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:value==='true',onChange:e=>handleInputChange(setting.key,e.target.checked?'true':'false'),className:\"sr-only peer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:value==='true'?'Aktif':'Pasif'})]});}// Select options for specific settings\nif(setting.key==='backup_frequency'){return/*#__PURE__*/_jsxs(\"select\",{value:value,onChange:e=>handleInputChange(setting.key,e.target.value),className:\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"hourly\",children:\"\\uD83D\\uDD50 Saatlik\"}),/*#__PURE__*/_jsx(\"option\",{value:\"daily\",children:\"\\uD83D\\uDCC5 G\\xFCnl\\xFCk\"}),/*#__PURE__*/_jsx(\"option\",{value:\"weekly\",children:\"\\uD83D\\uDCC6 Haftal\\u0131k\"}),/*#__PURE__*/_jsx(\"option\",{value:\"monthly\",children:\"\\uD83D\\uDDD3\\uFE0F Ayl\\u0131k\"})]});}// SMTP Port select\nif(setting.key==='smtp_port'){return/*#__PURE__*/_jsxs(\"select\",{value:value,onChange:e=>handleInputChange(setting.key,e.target.value),className:\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"25\",children:\"\\uD83D\\uDD0C 25 (SMTP)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"587\",children:\"\\uD83D\\uDD12 587 (TLS)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"465\",children:\"\\uD83D\\uDD10 465 (SSL)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2525\",children:\"\\uD83D\\uDD27 2525 (Alternatif)\"})]});}// SSL/TLS boolean settings\nif(setting.key==='smtp_use_ssl'||setting.key==='smtp_use_tls'||setting.key==='enabled'){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"relative inline-flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:value==='true',onChange:e=>handleInputChange(setting.key,e.target.checked?'true':'false'),className:\"sr-only peer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:value==='true'?'Aktif':'Pasif'})]});}// Password fields\nif(setting.key.includes('password')){const isPasswordVisible=showPasswords[setting.key]||false;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:isPasswordVisible?\"text\":\"password\",value:value,onChange:e=>handleInputChange(setting.key,e.target.value),className:\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200 pr-10\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>togglePasswordVisibility(setting.key),className:\"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-gray-600 transition-colors\",children:isPasswordVisible?/*#__PURE__*/_jsx(EyeOff,{className:\"h-4 w-4 text-gray-400\"}):/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4 text-gray-400\"})})]});}// Number inputs\nif(setting.key.includes('max_')||setting.key.includes('timeout')||setting.key.includes('expire')){return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:value,onChange:e=>handleInputChange(setting.key,e.target.value),className:\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200\",min:\"0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"\\uD83D\\uDD22\"})})]});}// Text area for long descriptions\nif(setting.key.includes('description')||setting.key.includes('message')){return/*#__PURE__*/_jsx(\"textarea\",{value:value,onChange:e=>handleInputChange(setting.key,e.target.value),className:\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200 resize-none\",rows:3,placeholder:\"A\\xE7\\u0131klama giriniz...\"});}// Email inputs\nif(setting.key.includes('email')){return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:value,onChange:e=>handleInputChange(setting.key,e.target.value),className:\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200 pr-10\",placeholder:\"ornek@email.com\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"\\uD83D\\uDCE7\"})})]});}// Default text input\nreturn/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:value,onChange:e=>handleInputChange(setting.key,e.target.value),className:\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200\",placeholder:\"De\\u011Fer giriniz...\"});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Ayarlar y\\xFCkleniyor...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Sistem Ayarlar\\u0131\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Sistem geneli ayarlar\\u0131n\\u0131 y\\xF6netin\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"-mb-px flex space-x-8\",children:(_user$permissions=>{const allTabs=[{id:'ocr',name:'OCR / AI Ayarları',icon:Eye},{id:'upload',name:'Yükleme Ayarları',icon:Database},{id:'email',name:'E-posta Ayarları',icon:Mail},{id:'general',name:'Genel Ayarlar',icon:SettingsIcon}];// DİNAMİK: settings.manage yetkisi yoksa sadece belirli tab'ları göster\nif(!(user!==null&&user!==void 0&&(_user$permissions=user.permissions)!==null&&_user$permissions!==void 0&&_user$permissions.includes('settings.manage'))){return allTabs.filter(tab=>['email','general'].includes(tab.id));}return allTabs;})().map(tab=>{const Icon=tab.icon;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab===tab.id?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(Icon,{className:\"h-4 w-4\"}),tab.name]},tab.id);})})}),activeTab==='email'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(Mail,{className:\"h-5 w-5 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"E-posta Ayarlar\\u0131\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[getVisibleSettings(settings).filter(s=>s.category==='email').length,\" ayar\"]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-4\",children:getVisibleSettings(settings).filter(s=>s.category==='email').sort((a,b)=>a.key.localeCompare(b.key)).map(setting=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 p-2 rounded-lg bg-gray-100\",children:/*#__PURE__*/_jsx(Mail,{className:\"h-4 w-4 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900\",children:setting.key.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase())}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:setting.description})]}),/*#__PURE__*/_jsx(\"div\",{children:renderSettingInput(setting)})]})]})},setting.id))})})]})}),activeTab==='ocr'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-purple-50 to-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(Eye,{className:\"h-5 w-5 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"OCR / AI Ayarlar\\u0131\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Google AI Vision API ve OCR i\\u015Fleme ayarlar\\u0131\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:getVisibleSettings(settings).filter(s=>s.category==='ocr').sort((a,b)=>a.key.localeCompare(b.key)).map(setting=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 p-2 rounded-lg bg-purple-100\",children:/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900\",children:setting.description||setting.key.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase())}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[setting.key==='google_ai_api_key'&&'Google Cloud Console\\'dan alınabilir',setting.key==='parallel_workers'&&'Aynı anda kaç görsel işlenebilir (önerilen: 10)',setting.key==='ocr_timeout'&&'Her bir OCR işlemi için maksimum bekleme süresi',setting.key==='ocr_retry_count'&&'Hata durumunda yeniden deneme sayısı']})]}),/*#__PURE__*/_jsx(\"div\",{children:renderSettingInput(setting)})]})]})},setting.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-yellow-600\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-yellow-800\",children:\"\\xD6nemli Notlar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-yellow-700\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Google AI API Key de\\u011Fi\\u015Fikli\\u011Finden sonra sistemi yeniden ba\\u015Flat\\u0131n\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Parallel workers say\\u0131s\\u0131n\\u0131 art\\u0131rmak daha fazla Google API iste\\u011Fi yapar (maliyet art\\u0131\\u015F\\u0131)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"OCR timeout de\\u011Ferini \\xE7ok d\\xFC\\u015F\\xFCk tutmay\\u0131n (minimum 20 saniye \\xF6nerilir)\"})]})})]})]})})]})]})}),activeTab==='upload'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-green-50 to-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(Database,{className:\"h-5 w-5 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"Dosya Y\\xFCkleme Ayarlar\\u0131\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Dosya y\\xFCkleme limitleri ve k\\u0131s\\u0131tlamalar\\u0131\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-4\",children:getVisibleSettings(settings).filter(s=>s.category==='upload').sort((a,b)=>a.key.localeCompare(b.key)).map(setting=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 p-2 rounded-lg bg-green-100\",children:/*#__PURE__*/_jsx(Database,{className:\"h-4 w-4 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900\",children:setting.description||setting.key.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase())}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[setting.key==='max_file_count'&&'Tek seferde yüklenebilecek maksimum dosya sayısı',setting.key==='max_file_size_mb'&&'Her bir dosya için maksimum boyut (MB cinsinden)',setting.key==='allowed_extensions'&&'İzin verilen dosya uzantıları (virgülle ayırın)',setting.key==='total_upload_size_mb'&&'Toplam yükleme boyutu limiti (MB cinsinden)',setting.key==='storage_path'&&'Dosyaların kaydedileceği klasör yolu']})]}),/*#__PURE__*/_jsx(\"div\",{children:renderSettingInput(setting)})]})]})},setting.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-blue-600\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-blue-800\",children:\"Bilgi\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-blue-700\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Dosya say\\u0131s\\u0131 ve boyut limitleri anl\\u0131k olarak uygulan\\u0131r\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u0130zin verilen uzant\\u0131lar\\u0131 de\\u011Fi\\u015Ftirirken dikkatli olun (\\xF6rn: jpg,jpeg,png,webp)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Toplam upload boyutu = (Dosya say\\u0131s\\u0131 \\xD7 Ortalama dosya boyutu) i\\xE7in yeterli olmal\\u0131\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\xD6nerilen: 500 dosya \\xD7 2 MB = 1000 MB toplam limit\"})]})})]})]})})]})]})}),activeTab==='general'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-indigo-100 rounded-lg\",children:/*#__PURE__*/_jsx(SettingsIcon,{className:\"h-5 w-5 text-indigo-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"Genel Ayarlar\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[getVisibleSettings(settings).filter(s=>s.category==='general').length,\" ayar\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-4\",children:getVisibleSettings(settings).filter(s=>s.category==='general').sort((a,b)=>a.key.localeCompare(b.key)).map(setting=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 p-2 rounded-lg bg-gray-100\",children:/*#__PURE__*/_jsx(SettingsIcon,{className:\"h-4 w-4 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900\",children:setting.key.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase())}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:setting.description})]}),/*#__PURE__*/_jsx(\"div\",{children:renderSettingInput(setting)})]})]})},setting.id))})})]})})]});};export default Settings;","map":{"version":3,"names":["React","useState","useEffect","useRef","settingsAPI","Settings","SettingsIcon","Database","Mail","Eye","EyeOff","useAuth","toast","jsx","_jsx","jsxs","_jsxs","user","settings","setSettings","loading","setLoading","formData","setFormData","activeTab","setActiveTab","showPasswords","setShowPasswords","loadSettings","savedScrollPosition","sessionStorage","getItem","setTimeout","window","scrollTo","parseInt","handleScroll","setItem","scrollY","toString","addEventListener","removeEventListener","response","getSettings","initialData","forEach","setting","key","value","error","debounceTimers","handleInputChange","prev","_objectSpread","current","clearTimeout","handleAutoSave","settingKey","newValue","originalSetting","find","s","category","updateSetting","map","currentScrollPosition","success","concat","replace","duration","_error$response","_error$response$data","data","detail","togglePasswordVisibility","getVisibleSettings","role","filter","allowedCategories","allowedKeys","includes","renderSettingInput","className","children","type","checked","onChange","e","target","isPasswordVisible","placeholder","onClick","min","rows","_user$permissions","allTabs","id","name","icon","permissions","tab","Icon","length","sort","a","b","localeCompare","l","toUpperCase","description","fill","viewBox","fillRule","d","clipRule"],"sources":["C:/Users/ilker/Desktop/aibrands/frontend/src/pages/admin/Settings.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { settingsAPI, Setting } from '../../api/settings';\r\nimport { Settings as SettingsIcon, Database, Mail, Eye, EyeOff } from 'lucide-react';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport toast from 'react-hot-toast';\r\n\r\n\r\nconst Settings: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [settings, setSettings] = useState<Setting[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  // const [saving, setSaving] = useState(false);\r\n  const [formData, setFormData] = useState<Record<string, string>>({});\r\n  const [activeTab, setActiveTab] = useState<'email' | 'general' | 'ocr' | 'upload'>('ocr');\r\n  // const [scrollPosition, setScrollPosition] = useState(0);\r\n  const [showPasswords, setShowPasswords] = useState<Record<string, boolean>>({});\r\n\r\n  useEffect(() => {\r\n    loadSettings();\r\n    \r\n    // Scroll position'ı restore et\r\n    const savedScrollPosition = sessionStorage.getItem('settings-scroll-position');\r\n    if (savedScrollPosition) {\r\n      setTimeout(() => {\r\n        window.scrollTo(0, parseInt(savedScrollPosition));\r\n      }, 100);\r\n    }\r\n    \r\n    // Scroll event listener ekle\r\n    const handleScroll = () => {\r\n      // setScrollPosition(window.scrollY);\r\n      sessionStorage.setItem('settings-scroll-position', window.scrollY.toString());\r\n    };\r\n    \r\n    window.addEventListener('scroll', handleScroll);\r\n    \r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  const loadSettings = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await settingsAPI.getSettings();\r\n      setSettings(response.settings);\r\n      \r\n      // Form data'yı başlat\r\n      const initialData: Record<string, string> = {};\r\n      response.settings.forEach(setting => {\r\n        initialData[setting.key] = setting.value;\r\n      });\r\n      setFormData(initialData);\r\n    } catch (error) {\r\n      toast.error('Ayarlar yüklenemedi');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Debounce için timer'ları sakla\r\n  const debounceTimers = useRef<Record<string, NodeJS.Timeout>>({});\r\n\r\n  const handleInputChange = (key: string, value: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [key]: value\r\n    }));\r\n    \r\n    // Önceki timer'ı temizle\r\n    if (debounceTimers.current[key]) {\r\n      clearTimeout(debounceTimers.current[key]);\r\n    }\r\n    \r\n    // Yeni timer başlat - 2 saniye sonra kaydet\r\n    debounceTimers.current[key] = setTimeout(() => {\r\n      handleAutoSave(key, value);\r\n    }, 2000);\r\n  };\r\n\r\n\r\n  const handleAutoSave = async (settingKey: string, newValue: string) => {\r\n    try {\r\n      // setSaving(true);\r\n      \r\n      // Eski değerle aynıysa kaydetme\r\n      const originalSetting = settings.find(s => s.key === settingKey);\r\n      if (originalSetting && newValue === originalSetting.value) {\r\n        return;\r\n      }\r\n\r\n      // Category'yi bul\r\n      const category = originalSetting?.category || 'general';\r\n      \r\n      await settingsAPI.updateSetting(settingKey, newValue, category);\r\n      \r\n      // Sadece ilgili setting'i güncelle (tüm sayfayı yenileme)\r\n      setSettings(prev => prev.map(s => \r\n        s.key === settingKey ? { ...s, value: newValue } : s\r\n      ));\r\n      \r\n      // FormData'yı güncelle\r\n      setFormData(prev => ({ ...prev, [settingKey]: newValue }));\r\n      \r\n      // Scroll position'ı koru\r\n      const currentScrollPosition = window.scrollY;\r\n      sessionStorage.setItem('settings-scroll-position', currentScrollPosition.toString());\r\n      \r\n      toast.success(`${settingKey.replace(/_/g, ' ')} güncellendi`, { duration: 2000 });\r\n      \r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.detail || 'Ayar kaydedilemedi');\r\n    } finally {\r\n      // setSaving(false);\r\n    }\r\n  };\r\n\r\n\r\n  // const getSettingIcon = (key: string) => {\r\n  //   if (key.includes('email') || key.includes('notification')) return Mail;\r\n  //   if (key.includes('site') || key.includes('url')) return Globe;\r\n  //   if (key.includes('session') || key.includes('timeout') || key.includes('expire')) return Clock;\r\n  //   if (key.includes('login') || key.includes('security') || key.includes('password')) return SettingsIcon;\r\n  //   if (key.includes('user') || key.includes('employee')) return Users;\r\n  //   if (key.includes('backup') || key.includes('database')) return Database;\r\n  //   return SettingsIcon;\r\n  // };\r\n\r\n  const togglePasswordVisibility = (key: string) => {\r\n    setShowPasswords(prev => ({\r\n      ...prev,\r\n      [key]: !prev[key]\r\n    }));\r\n  };\r\n\r\n  // Mağaza Yöneticisi için görülebilir ayarları filtrele\r\n  const getVisibleSettings = (settings: Setting[]) => {\r\n    if (!user) return settings;\r\n    \r\n    if (user.role === 'Super Admin') {\r\n      return settings; // Super Admin tüm ayarları görebilir\r\n    }\r\n    \r\n    if (user.role === 'Mağaza Yöneticisi') {\r\n      // Mağaza Yöneticisi sadece belirli ayarları görebilir\r\n      return settings.filter(setting => {\r\n        const allowedCategories = ['email', 'general'];\r\n        const allowedKeys = [\r\n          'from_email', 'from_name', 'company_name', 'support_email', 'support_phone',\r\n          'smtp_server', 'smtp_port', 'smtp_username', 'smtp_password', 'smtp_use_ssl', 'smtp_use_tls',\r\n          'site_name', 'site_description', 'site_url'\r\n        ];\r\n        \r\n        return allowedCategories.includes(setting.category) && \r\n               allowedKeys.includes(setting.key);\r\n      });\r\n    }\r\n    \r\n    return []; // Diğer roller ayarları göremez\r\n  };\r\n\r\n  // const getCategoryIcon = (category: string) => {\r\n  //   switch (category) {\r\n  //     case 'E-posta Ayarları':\r\n  //       return <Mail className=\"h-5 w-5 text-blue-600\" />;\r\n  //     case 'Güvenlik':\r\n  //       return <SettingsIcon className=\"h-5 w-5 text-red-600\" />;\r\n  //     case 'Sistem':\r\n  //       return <Database className=\"h-5 w-5 text-orange-600\" />;\r\n  //     case 'Genel Ayarlar':\r\n  //       return <Globe className=\"h-5 w-5 text-indigo-600\" />;\r\n  //     default:\r\n  //       return <SettingsIcon className=\"h-5 w-5 text-gray-600\" />;\r\n  //   }\r\n  // };\r\n\r\n  // Kategori sıralama düzeni\r\n  // const categoryOrder = [\r\n  //   'Genel Ayarlar',\r\n  //   'E-posta Ayarları', \r\n  //   'Güvenlik',\r\n  //   'Sistem',\r\n  //   'Diğer'\r\n  // ];\r\n\r\n  const renderSettingInput = (setting: Setting) => {\r\n    const value = formData[setting.key] || '';\r\n    \r\n    // Boolean settings\r\n    if (setting.value === 'true' || setting.value === 'false') {\r\n      return (\r\n        <div className=\"flex items-center gap-3\">\r\n          <label className=\"relative inline-flex items-center cursor-pointer\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={value === 'true'}\r\n              onChange={(e) => handleInputChange(setting.key, e.target.checked ? 'true' : 'false')}\r\n              className=\"sr-only peer\"\r\n            />\r\n            <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n          </label>\r\n          <span className=\"text-sm font-medium text-gray-700\">\r\n            {value === 'true' ? 'Aktif' : 'Pasif'}\r\n          </span>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    // Select options for specific settings\r\n    if (setting.key === 'backup_frequency') {\r\n      return (\r\n        <select\r\n          value={value}\r\n          onChange={(e) => handleInputChange(setting.key, e.target.value)}\r\n          className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200\"\r\n        >\r\n          <option value=\"hourly\">🕐 Saatlik</option>\r\n          <option value=\"daily\">📅 Günlük</option>\r\n          <option value=\"weekly\">📆 Haftalık</option>\r\n          <option value=\"monthly\">🗓️ Aylık</option>\r\n        </select>\r\n      );\r\n    }\r\n    \r\n    // SMTP Port select\r\n    if (setting.key === 'smtp_port') {\r\n      return (\r\n        <select\r\n          value={value}\r\n          onChange={(e) => handleInputChange(setting.key, e.target.value)}\r\n          className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200\"\r\n        >\r\n          <option value=\"25\">🔌 25 (SMTP)</option>\r\n          <option value=\"587\">🔒 587 (TLS)</option>\r\n          <option value=\"465\">🔐 465 (SSL)</option>\r\n          <option value=\"2525\">🔧 2525 (Alternatif)</option>\r\n        </select>\r\n      );\r\n    }\r\n    \r\n    // SSL/TLS boolean settings\r\n    if (setting.key === 'smtp_use_ssl' || setting.key === 'smtp_use_tls' || setting.key === 'enabled') {\r\n      return (\r\n        <div className=\"flex items-center gap-3\">\r\n          <label className=\"relative inline-flex items-center cursor-pointer\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={value === 'true'}\r\n              onChange={(e) => handleInputChange(setting.key, e.target.checked ? 'true' : 'false')}\r\n              className=\"sr-only peer\"\r\n            />\r\n            <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n          </label>\r\n          <span className=\"text-sm font-medium text-gray-700\">\r\n            {value === 'true' ? 'Aktif' : 'Pasif'}\r\n          </span>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    // Password fields\r\n    if (setting.key.includes('password')) {\r\n      const isPasswordVisible = showPasswords[setting.key] || false;\r\n      return (\r\n        <div className=\"relative\">\r\n          <input\r\n            type={isPasswordVisible ? \"text\" : \"password\"}\r\n            value={value}\r\n            onChange={(e) => handleInputChange(setting.key, e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200 pr-10\"\r\n            placeholder=\"••••••••\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => togglePasswordVisibility(setting.key)}\r\n            className=\"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-gray-600 transition-colors\"\r\n          >\r\n            {isPasswordVisible ? (\r\n              <EyeOff className=\"h-4 w-4 text-gray-400\" />\r\n            ) : (\r\n              <Eye className=\"h-4 w-4 text-gray-400\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    // Number inputs\r\n    if (setting.key.includes('max_') || setting.key.includes('timeout') || setting.key.includes('expire')) {\r\n      return (\r\n        <div className=\"relative\">\r\n          <input\r\n            type=\"number\"\r\n            value={value}\r\n            onChange={(e) => handleInputChange(setting.key, e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200\"\r\n            min=\"0\"\r\n          />\r\n          <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\r\n            <span className=\"text-gray-400 text-sm\">🔢</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    // Text area for long descriptions\r\n    if (setting.key.includes('description') || setting.key.includes('message')) {\r\n      return (\r\n        <textarea\r\n          value={value}\r\n          onChange={(e) => handleInputChange(setting.key, e.target.value)}\r\n          className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200 resize-none\"\r\n          rows={3}\r\n          placeholder=\"Açıklama giriniz...\"\r\n        />\r\n      );\r\n    }\r\n    \r\n    // Email inputs\r\n    if (setting.key.includes('email')) {\r\n      return (\r\n        <div className=\"relative\">\r\n          <input\r\n            type=\"email\"\r\n            value={value}\r\n            onChange={(e) => handleInputChange(setting.key, e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200 pr-10\"\r\n            placeholder=\"ornek@email.com\"\r\n          />\r\n          <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\r\n            <span className=\"text-gray-400 text-sm\">📧</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    // Default text input\r\n    return (\r\n      <input\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={(e) => handleInputChange(setting.key, e.target.value)}\r\n        className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all duration-200\"\r\n        placeholder=\"Değer giriniz...\"\r\n      />\r\n    );\r\n  };\r\n\r\n\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\r\n          <span className=\"text-gray-600\">Ayarlar yükleniyor...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Sistem Ayarları</h1>\r\n          <p className=\"text-gray-600\">Sistem geneli ayarlarını yönetin</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"border-b border-gray-200\">\r\n        <nav className=\"-mb-px flex space-x-8\">\r\n          {(() => {\r\n            const allTabs = [\r\n              { id: 'ocr', name: 'OCR / AI Ayarları', icon: Eye },\r\n              { id: 'upload', name: 'Yükleme Ayarları', icon: Database },\r\n              { id: 'email', name: 'E-posta Ayarları', icon: Mail },\r\n              { id: 'general', name: 'Genel Ayarlar', icon: SettingsIcon }\r\n            ];\r\n            \r\n            // DİNAMİK: settings.manage yetkisi yoksa sadece belirli tab'ları göster\r\n            if (!user?.permissions?.includes('settings.manage')) {\r\n              return allTabs.filter(tab => ['email', 'general'].includes(tab.id));\r\n            }\r\n            \r\n            return allTabs;\r\n          })().map((tab) => {\r\n            const Icon = tab.icon;\r\n            return (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id as any)}\r\n                className={`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${\r\n                  activeTab === tab.id\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <Icon className=\"h-4 w-4\" />\r\n                {tab.name}\r\n              </button>\r\n            );\r\n          })}\r\n        </nav>\r\n      </div>\r\n\r\n\r\n      {/* Tab Content */}\r\n\r\n      {/* Email Settings Tab */}\r\n      {activeTab === 'email' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n            <div className=\"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                    <Mail className=\"h-5 w-5 text-green-600\" />\r\n                  </div>\r\n                  <div>\r\n                    <h2 className=\"text-xl font-bold text-gray-900\">E-posta Ayarları</h2>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      {getVisibleSettings(settings).filter(s => s.category === 'email').length} ayar\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"p-6\">\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                {getVisibleSettings(settings)\r\n                  .filter(s => s.category === 'email')\r\n                  .sort((a, b) => a.key.localeCompare(b.key))\r\n                  .map((setting) => (\r\n                    <div key={setting.id} className=\"bg-white rounded-lg border border-gray-200 p-4\">\r\n                      <div className=\"flex items-start gap-3\">\r\n                        <div className=\"flex-shrink-0 p-2 rounded-lg bg-gray-100\">\r\n                          <Mail className=\"h-4 w-4 text-gray-600\" />\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"mb-2\">\r\n                            <h3 className=\"text-sm font-semibold text-gray-900\">\r\n                              {setting.key.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                            </h3>\r\n                            <p className=\"text-xs text-gray-500\">{setting.description}</p>\r\n                          </div>\r\n                          <div>\r\n                            {renderSettingInput(setting)}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n\r\n      {/* OCR / AI Settings Tab */}\r\n      {activeTab === 'ocr' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n            <div className=\"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-purple-50 to-white\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n                  <Eye className=\"h-5 w-5 text-purple-600\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-xl font-bold text-gray-900\">OCR / AI Ayarları</h2>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    Google AI Vision API ve OCR işleme ayarları\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"p-6\">\r\n              <div className=\"space-y-4\">\r\n                {getVisibleSettings(settings)\r\n                  .filter(s => s.category === 'ocr')\r\n                  .sort((a, b) => a.key.localeCompare(b.key))\r\n                  .map((setting) => (\r\n                    <div key={setting.id} className=\"bg-white rounded-lg border border-gray-200 p-4\">\r\n                      <div className=\"flex items-start gap-3\">\r\n                        <div className=\"flex-shrink-0 p-2 rounded-lg bg-purple-100\">\r\n                          <Eye className=\"h-4 w-4 text-purple-600\" />\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"mb-2\">\r\n                            <h3 className=\"text-sm font-semibold text-gray-900\">\r\n                              {setting.description || setting.key.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                            </h3>\r\n                            <p className=\"text-xs text-gray-500 mt-1\">\r\n                              {setting.key === 'google_ai_api_key' && 'Google Cloud Console\\'dan alınabilir'}\r\n                              {setting.key === 'parallel_workers' && 'Aynı anda kaç görsel işlenebilir (önerilen: 10)'}\r\n                              {setting.key === 'ocr_timeout' && 'Her bir OCR işlemi için maksimum bekleme süresi'}\r\n                              {setting.key === 'ocr_retry_count' && 'Hata durumunda yeniden deneme sayısı'}\r\n                            </p>\r\n                          </div>\r\n                          <div>\r\n                            {renderSettingInput(setting)}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n              \r\n              {/* Warning Box */}\r\n              <div className=\"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n                <div className=\"flex gap-3\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <svg className=\"h-5 w-5 text-yellow-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-sm font-medium text-yellow-800\">Önemli Notlar</h3>\r\n                    <div className=\"mt-2 text-sm text-yellow-700\">\r\n                      <ul className=\"list-disc list-inside space-y-1\">\r\n                        <li>Google AI API Key değişikliğinden sonra sistemi yeniden başlatın</li>\r\n                        <li>Parallel workers sayısını artırmak daha fazla Google API isteği yapar (maliyet artışı)</li>\r\n                        <li>OCR timeout değerini çok düşük tutmayın (minimum 20 saniye önerilir)</li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Upload Settings Tab */}\r\n      {activeTab === 'upload' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n            <div className=\"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-green-50 to-white\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                  <Database className=\"h-5 w-5 text-green-600\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-xl font-bold text-gray-900\">Dosya Yükleme Ayarları</h2>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    Dosya yükleme limitleri ve kısıtlamaları\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"p-6\">\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                {getVisibleSettings(settings)\r\n                  .filter(s => s.category === 'upload')\r\n                  .sort((a, b) => a.key.localeCompare(b.key))\r\n                  .map((setting) => (\r\n                    <div key={setting.id} className=\"bg-white rounded-lg border border-gray-200 p-4\">\r\n                      <div className=\"flex items-start gap-3\">\r\n                        <div className=\"flex-shrink-0 p-2 rounded-lg bg-green-100\">\r\n                          <Database className=\"h-4 w-4 text-green-600\" />\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"mb-2\">\r\n                            <h3 className=\"text-sm font-semibold text-gray-900\">\r\n                              {setting.description || setting.key.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                            </h3>\r\n                            <p className=\"text-xs text-gray-500 mt-1\">\r\n                              {setting.key === 'max_file_count' && 'Tek seferde yüklenebilecek maksimum dosya sayısı'}\r\n                              {setting.key === 'max_file_size_mb' && 'Her bir dosya için maksimum boyut (MB cinsinden)'}\r\n                              {setting.key === 'allowed_extensions' && 'İzin verilen dosya uzantıları (virgülle ayırın)'}\r\n                              {setting.key === 'total_upload_size_mb' && 'Toplam yükleme boyutu limiti (MB cinsinden)'}\r\n                              {setting.key === 'storage_path' && 'Dosyaların kaydedileceği klasör yolu'}\r\n                            </p>\r\n                          </div>\r\n                          <div>\r\n                            {renderSettingInput(setting)}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n              \r\n              {/* Info Box */}\r\n              <div className=\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                <div className=\"flex gap-3\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <svg className=\"h-5 w-5 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-sm font-medium text-blue-800\">Bilgi</h3>\r\n                    <div className=\"mt-2 text-sm text-blue-700\">\r\n                      <ul className=\"list-disc list-inside space-y-1\">\r\n                        <li>Dosya sayısı ve boyut limitleri anlık olarak uygulanır</li>\r\n                        <li>İzin verilen uzantıları değiştirirken dikkatli olun (örn: jpg,jpeg,png,webp)</li>\r\n                        <li>Toplam upload boyutu = (Dosya sayısı × Ortalama dosya boyutu) için yeterli olmalı</li>\r\n                        <li>Önerilen: 500 dosya × 2 MB = 1000 MB toplam limit</li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* General Settings Tab */}\r\n      {activeTab === 'general' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n            <div className=\"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"p-2 bg-indigo-100 rounded-lg\">\r\n                  <SettingsIcon className=\"h-5 w-5 text-indigo-600\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-xl font-bold text-gray-900\">Genel Ayarlar</h2>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {getVisibleSettings(settings).filter(s => s.category === 'general').length} ayar\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"p-6\">\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                {getVisibleSettings(settings)\r\n                  .filter(s => s.category === 'general')\r\n                  .sort((a, b) => a.key.localeCompare(b.key))\r\n                  .map((setting) => (\r\n                    <div key={setting.id} className=\"bg-white rounded-lg border border-gray-200 p-4\">\r\n                      <div className=\"flex items-start gap-3\">\r\n                        <div className=\"flex-shrink-0 p-2 rounded-lg bg-gray-100\">\r\n                          <SettingsIcon className=\"h-4 w-4 text-gray-600\" />\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"mb-2\">\r\n                            <h3 className=\"text-sm font-semibold text-gray-900\">\r\n                              {setting.key.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                            </h3>\r\n                            <p className=\"text-xs text-gray-500\">{setting.description}</p>\r\n                          </div>\r\n                          <div>\r\n                            {renderSettingInput(setting)}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}