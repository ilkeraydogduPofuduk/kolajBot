{"ast":null,"code":"import React,{useRef,useEffect,useState,useCallback}from'react';// @ts-ignore - Fabric.js import\nimport*as fabric from'fabric';import{jsx as _jsx}from\"react/jsx-runtime\";const Canvas=_ref=>{let{width,height,backgroundColor,zoom,onObjectSelect,onObjectDeselect,onObjectModified,onObjectAdded,onObjectRemoved,activeTool,onCanvasReady,initialData}=_ref;const canvasRef=useRef(null);const[canvas,setCanvas]=useState(null);const[isReady,setIsReady]=useState(false);// Initialize Canvas\nuseEffect(()=>{if(!canvasRef.current||canvas)return;// Prevent double initialization\ntry{const fabricCanvas=new fabric.Canvas(canvasRef.current,{width:width,height:height,backgroundColor:backgroundColor,selection:true,preserveObjectStacking:true,renderOnAddRemove:true,allowTouchScrolling:true});setCanvas(fabricCanvas);setIsReady(true);onCanvasReady(fabricCanvas);// Event listeners\nfabricCanvas.on('selection:created',e=>{var _e$selected;onObjectSelect(((_e$selected=e.selected)===null||_e$selected===void 0?void 0:_e$selected[0])||null);});fabricCanvas.on('selection:updated',e=>{var _e$selected2;onObjectSelect(((_e$selected2=e.selected)===null||_e$selected2===void 0?void 0:_e$selected2[0])||null);});fabricCanvas.on('selection:cleared',()=>{onObjectDeselect();});fabricCanvas.on('object:modified',()=>{onObjectModified();});fabricCanvas.on('object:added',()=>{onObjectAdded();});fabricCanvas.on('object:removed',()=>{onObjectRemoved();});// Load initial data if provided\nif(initialData){fabricCanvas.loadFromJSON(initialData,()=>{fabricCanvas.renderAll();});}}catch(error){console.error('Canvas initialization error:',error);}return()=>{// Use closure to access the fabricCanvas instance\nconst currentCanvas=canvas;if(currentCanvas&&typeof currentCanvas.dispose==='function'){currentCanvas.dispose();setCanvas(null);setIsReady(false);}};},[width,height,backgroundColor]);// Add dependencies\n// Update canvas properties\nuseEffect(()=>{if(canvas&&isReady){canvas.setWidth(width);canvas.setHeight(height);canvas.backgroundColor=backgroundColor;canvas.renderAll();}},[canvas,width,height,backgroundColor,isReady]);// Update zoom\nuseEffect(()=>{if(canvas&&isReady){canvas.setZoom(zoom);canvas.renderAll();}},[canvas,zoom,isReady]);// Handle tool changes\nuseEffect(()=>{if(!canvas||!isReady)return;// Set cursor based on active tool\nswitch(activeTool){case'select':canvas.defaultCursor='default';canvas.hoverCursor='move';break;case'text':canvas.defaultCursor='text';canvas.hoverCursor='text';break;case'image':canvas.defaultCursor='crosshair';canvas.hoverCursor='crosshair';break;default:canvas.defaultCursor='crosshair';canvas.hoverCursor='crosshair';}},[canvas,activeTool,isReady]);// Canvas click handler for adding objects\nconst handleCanvasClick=useCallback(e=>{if(!canvas||!isReady)return;const pointer=canvas.getPointer(e.e);switch(activeTool){case'text':addText(pointer.x,pointer.y);break;case'rectangle':addRectangle(pointer.x,pointer.y);break;case'circle':addCircle(pointer.x,pointer.y);break;case'triangle':addTriangle(pointer.x,pointer.y);break;case'star':addStar(pointer.x,pointer.y);break;case'heart':addHeart(pointer.x,pointer.y);break;case'diamond':addDiamond(pointer.x,pointer.y);break;case'hexagon':addHexagon(pointer.x,pointer.y);break;case'line':addLine(pointer.x,pointer.y);break;}},[canvas,activeTool,isReady]);// Add text object\nconst addText=(x,y)=>{if(!canvas)return;const text=new fabric.Text('Metin',{left:x,top:y,fontFamily:'Arial',fontSize:24,fill:'#000000'});canvas.add(text);canvas.setActiveObject(text);canvas.renderAll();};// Add rectangle\nconst addRectangle=(x,y)=>{if(!canvas)return;const rect=new fabric.Rect({left:x,top:y,width:100,height:100,fill:'#3B82F6',stroke:'#000000',strokeWidth:2});canvas.add(rect);canvas.setActiveObject(rect);canvas.renderAll();};// Add circle\nconst addCircle=(x,y)=>{if(!canvas)return;const circle=new fabric.Circle({left:x,top:y,radius:50,fill:'#3B82F6',stroke:'#000000',strokeWidth:2});canvas.add(circle);canvas.setActiveObject(circle);canvas.renderAll();};// Add triangle\nconst addTriangle=(x,y)=>{if(!canvas)return;const triangle=new fabric.Triangle({left:x,top:y,width:100,height:100,fill:'#3B82F6',stroke:'#000000',strokeWidth:2});canvas.add(triangle);canvas.setActiveObject(triangle);canvas.renderAll();};// Add star\nconst addStar=(x,y)=>{if(!canvas)return;const star=new fabric.Polygon([{x:0,y:-50},{x:14,y:-20},{x:47,y:-15},{x:23,y:7},{x:29,y:40},{x:0,y:25},{x:-29,y:40},{x:-23,y:7},{x:-47,y:-15},{x:-14,y:-20}],{left:x,top:y,fill:'#3B82F6',stroke:'#000000',strokeWidth:2});canvas.add(star);canvas.setActiveObject(star);canvas.renderAll();};// Add heart\nconst addHeart=(x,y)=>{if(!canvas)return;const heart=new fabric.Path('M12,21.35l-1.45-1.32C5.4,15.36,2,12.28,2,8.5 C2,5.42,4.42,3,7.5,3c1.74,0,3.41,0.81,4.5,2.09C13.09,3.81,14.76,3,16.5,3 C19.58,3,22,5.42,22,8.5c0,3.78-3.4,6.86-8.55,11.54L12,21.35z',{left:x,top:y,scaleX:2,scaleY:2,fill:'#ef4444',stroke:'#000000',strokeWidth:2});canvas.add(heart);canvas.setActiveObject(heart);canvas.renderAll();};// Add diamond\nconst addDiamond=(x,y)=>{if(!canvas)return;const diamond=new fabric.Polygon([{x:0,y:-50},{x:50,y:0},{x:0,y:50},{x:-50,y:0}],{left:x,top:y,fill:'#8b5cf6',stroke:'#000000',strokeWidth:2});canvas.add(diamond);canvas.setActiveObject(diamond);canvas.renderAll();};// Add hexagon\nconst addHexagon=(x,y)=>{if(!canvas)return;const hexagon=new fabric.Polygon([{x:0,y:-50},{x:43,y:-25},{x:43,y:25},{x:0,y:50},{x:-43,y:25},{x:-43,y:-25}],{left:x,top:y,fill:'#10b981',stroke:'#000000',strokeWidth:2});canvas.add(hexagon);canvas.setActiveObject(hexagon);canvas.renderAll();};// Add line\nconst addLine=(x,y)=>{if(!canvas)return;const line=new fabric.Line([0,0,100,0],{left:x,top:y,stroke:'#000000',strokeWidth:3});canvas.add(line);canvas.setActiveObject(line);canvas.renderAll();};// Add canvas click listener\nuseEffect(()=>{if(canvas&&isReady){canvas.on('mouse:down',handleCanvasClick);return()=>{canvas.off('mouse:down',handleCanvasClick);};}},[canvas,handleCanvasClick,isReady]);return/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-gray-100 flex items-center justify-center overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-lg rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,className:\"border border-gray-300\",style:{maxWidth:'100%',maxHeight:'100%',cursor:activeTool==='select'?'default':'crosshair'}})})});};export default Canvas;","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","fabric","jsx","_jsx","Canvas","_ref","width","height","backgroundColor","zoom","onObjectSelect","onObjectDeselect","onObjectModified","onObjectAdded","onObjectRemoved","activeTool","onCanvasReady","initialData","canvasRef","canvas","setCanvas","isReady","setIsReady","current","fabricCanvas","selection","preserveObjectStacking","renderOnAddRemove","allowTouchScrolling","on","e","_e$selected","selected","_e$selected2","loadFromJSON","renderAll","error","console","currentCanvas","dispose","setWidth","setHeight","setZoom","defaultCursor","hoverCursor","handleCanvasClick","pointer","getPointer","addText","x","y","addRectangle","addCircle","addTriangle","addStar","addHeart","addDiamond","addHexagon","addLine","text","Text","left","top","fontFamily","fontSize","fill","add","setActiveObject","rect","Rect","stroke","strokeWidth","circle","Circle","radius","triangle","Triangle","star","Polygon","heart","Path","scaleX","scaleY","diamond","hexagon","line","Line","off","className","children","ref","style","maxWidth","maxHeight","cursor"],"sources":["C:/Users/ilker/Desktop/aibrands/frontend/src/components/template/editor/Canvas.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from 'react';\r\n// @ts-ignore - Fabric.js import\r\nimport * as fabric from 'fabric';\r\n\r\ninterface CanvasProps {\r\n  width: number;\r\n  height: number;\r\n  backgroundColor: string;\r\n  zoom: number;\r\n  onObjectSelect: (object: any) => void;\r\n  onObjectDeselect: () => void;\r\n  onObjectModified: () => void;\r\n  onObjectAdded: () => void;\r\n  onObjectRemoved: () => void;\r\n  activeTool: string;\r\n  onCanvasReady: (canvas: fabric.Canvas) => void;\r\n  initialData?: any;\r\n}\r\n\r\nconst Canvas: React.FC<CanvasProps> = ({\r\n  width,\r\n  height,\r\n  backgroundColor,\r\n  zoom,\r\n  onObjectSelect,\r\n  onObjectDeselect,\r\n  onObjectModified,\r\n  onObjectAdded,\r\n  onObjectRemoved,\r\n  activeTool,\r\n  onCanvasReady,\r\n  initialData\r\n}) => {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const [canvas, setCanvas] = useState<fabric.Canvas | null>(null);\r\n  const [isReady, setIsReady] = useState(false);\r\n\r\n  // Initialize Canvas\r\n  useEffect(() => {\r\n    if (!canvasRef.current || canvas) return; // Prevent double initialization\r\n\r\n    try {\r\n      const fabricCanvas = new fabric.Canvas(canvasRef.current, {\r\n        width: width,\r\n        height: height,\r\n        backgroundColor: backgroundColor,\r\n        selection: true,\r\n        preserveObjectStacking: true,\r\n        renderOnAddRemove: true,\r\n        allowTouchScrolling: true\r\n      });\r\n\r\n      setCanvas(fabricCanvas);\r\n      setIsReady(true);\r\n      onCanvasReady(fabricCanvas);\r\n\r\n      // Event listeners\r\n      fabricCanvas.on('selection:created', (e: any) => {\r\n        onObjectSelect(e.selected?.[0] || null);\r\n      });\r\n\r\n      fabricCanvas.on('selection:updated', (e: any) => {\r\n        onObjectSelect(e.selected?.[0] || null);\r\n      });\r\n\r\n      fabricCanvas.on('selection:cleared', () => {\r\n        onObjectDeselect();\r\n      });\r\n\r\n      fabricCanvas.on('object:modified', () => {\r\n        onObjectModified();\r\n      });\r\n\r\n      fabricCanvas.on('object:added', () => {\r\n        onObjectAdded();\r\n      });\r\n\r\n      fabricCanvas.on('object:removed', () => {\r\n        onObjectRemoved();\r\n      });\r\n\r\n      // Load initial data if provided\r\n      if (initialData) {\r\n        fabricCanvas.loadFromJSON(initialData, () => {\r\n          fabricCanvas.renderAll();\r\n        });\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Canvas initialization error:', error);\r\n    }\r\n\r\n    return () => {\r\n      // Use closure to access the fabricCanvas instance\r\n      const currentCanvas = canvas;\r\n      if (currentCanvas && typeof (currentCanvas as any).dispose === 'function') {\r\n        (currentCanvas as any).dispose();\r\n        setCanvas(null);\r\n        setIsReady(false);\r\n      }\r\n    };\r\n  }, [width, height, backgroundColor]); // Add dependencies\r\n\r\n  // Update canvas properties\r\n  useEffect(() => {\r\n    if (canvas && isReady) {\r\n      canvas.setWidth(width);\r\n      canvas.setHeight(height);\r\n      canvas.backgroundColor = backgroundColor;\r\n      canvas.renderAll();\r\n    }\r\n  }, [canvas, width, height, backgroundColor, isReady]);\r\n\r\n  // Update zoom\r\n  useEffect(() => {\r\n    if (canvas && isReady) {\r\n      canvas.setZoom(zoom);\r\n      canvas.renderAll();\r\n    }\r\n  }, [canvas, zoom, isReady]);\r\n\r\n  // Handle tool changes\r\n  useEffect(() => {\r\n    if (!canvas || !isReady) return;\r\n\r\n    // Set cursor based on active tool\r\n    switch (activeTool) {\r\n      case 'select':\r\n        canvas.defaultCursor = 'default';\r\n        canvas.hoverCursor = 'move';\r\n        break;\r\n      case 'text':\r\n        canvas.defaultCursor = 'text';\r\n        canvas.hoverCursor = 'text';\r\n        break;\r\n      case 'image':\r\n        canvas.defaultCursor = 'crosshair';\r\n        canvas.hoverCursor = 'crosshair';\r\n        break;\r\n      default:\r\n        canvas.defaultCursor = 'crosshair';\r\n        canvas.hoverCursor = 'crosshair';\r\n    }\r\n  }, [canvas, activeTool, isReady]);\r\n\r\n  // Canvas click handler for adding objects\r\n  const handleCanvasClick = useCallback((e: any) => {\r\n    if (!canvas || !isReady) return;\r\n\r\n    const pointer = canvas.getPointer(e.e);\r\n    \r\n    switch (activeTool) {\r\n      case 'text':\r\n        addText(pointer.x, pointer.y);\r\n        break;\r\n      case 'rectangle':\r\n        addRectangle(pointer.x, pointer.y);\r\n        break;\r\n      case 'circle':\r\n        addCircle(pointer.x, pointer.y);\r\n        break;\r\n      case 'triangle':\r\n        addTriangle(pointer.x, pointer.y);\r\n        break;\r\n      case 'star':\r\n        addStar(pointer.x, pointer.y);\r\n        break;\r\n      case 'heart':\r\n        addHeart(pointer.x, pointer.y);\r\n        break;\r\n      case 'diamond':\r\n        addDiamond(pointer.x, pointer.y);\r\n        break;\r\n      case 'hexagon':\r\n        addHexagon(pointer.x, pointer.y);\r\n        break;\r\n      case 'line':\r\n        addLine(pointer.x, pointer.y);\r\n        break;\r\n    }\r\n  }, [canvas, activeTool, isReady]);\r\n\r\n  // Add text object\r\n  const addText = (x: number, y: number) => {\r\n    if (!canvas) return;\r\n    \r\n    const text = new fabric.Text('Metin', {\r\n      left: x,\r\n      top: y,\r\n      fontFamily: 'Arial',\r\n      fontSize: 24,\r\n      fill: '#000000'\r\n    });\r\n    \r\n    canvas.add(text);\r\n    canvas.setActiveObject(text);\r\n    canvas.renderAll();\r\n  };\r\n\r\n  // Add rectangle\r\n  const addRectangle = (x: number, y: number) => {\r\n    if (!canvas) return;\r\n    \r\n    const rect = new fabric.Rect({\r\n      left: x,\r\n      top: y,\r\n      width: 100,\r\n      height: 100,\r\n      fill: '#3B82F6',\r\n      stroke: '#000000',\r\n      strokeWidth: 2\r\n    });\r\n    \r\n    canvas.add(rect);\r\n    canvas.setActiveObject(rect);\r\n    canvas.renderAll();\r\n  };\r\n\r\n  // Add circle\r\n  const addCircle = (x: number, y: number) => {\r\n    if (!canvas) return;\r\n    \r\n    const circle = new fabric.Circle({\r\n      left: x,\r\n      top: y,\r\n      radius: 50,\r\n      fill: '#3B82F6',\r\n      stroke: '#000000',\r\n      strokeWidth: 2\r\n    });\r\n    \r\n    canvas.add(circle);\r\n    canvas.setActiveObject(circle);\r\n    canvas.renderAll();\r\n  };\r\n\r\n  // Add triangle\r\n  const addTriangle = (x: number, y: number) => {\r\n    if (!canvas) return;\r\n    \r\n    const triangle = new fabric.Triangle({\r\n      left: x,\r\n      top: y,\r\n      width: 100,\r\n      height: 100,\r\n      fill: '#3B82F6',\r\n      stroke: '#000000',\r\n      strokeWidth: 2\r\n    });\r\n    \r\n    canvas.add(triangle);\r\n    canvas.setActiveObject(triangle);\r\n    canvas.renderAll();\r\n  };\r\n\r\n  // Add star\r\n  const addStar = (x: number, y: number) => {\r\n    if (!canvas) return;\r\n    \r\n    const star = new fabric.Polygon([\r\n      { x: 0, y: -50 },\r\n      { x: 14, y: -20 },\r\n      { x: 47, y: -15 },\r\n      { x: 23, y: 7 },\r\n      { x: 29, y: 40 },\r\n      { x: 0, y: 25 },\r\n      { x: -29, y: 40 },\r\n      { x: -23, y: 7 },\r\n      { x: -47, y: -15 },\r\n      { x: -14, y: -20 }\r\n    ], {\r\n      left: x,\r\n      top: y,\r\n      fill: '#3B82F6',\r\n      stroke: '#000000',\r\n      strokeWidth: 2\r\n    });\r\n    \r\n    canvas.add(star);\r\n    canvas.setActiveObject(star);\r\n    canvas.renderAll();\r\n  };\r\n\r\n  // Add heart\r\n  const addHeart = (x: number, y: number) => {\r\n    if (!canvas) return;\r\n    \r\n    const heart = new fabric.Path('M12,21.35l-1.45-1.32C5.4,15.36,2,12.28,2,8.5 C2,5.42,4.42,3,7.5,3c1.74,0,3.41,0.81,4.5,2.09C13.09,3.81,14.76,3,16.5,3 C19.58,3,22,5.42,22,8.5c0,3.78-3.4,6.86-8.55,11.54L12,21.35z', {\r\n      left: x,\r\n      top: y,\r\n      scaleX: 2,\r\n      scaleY: 2,\r\n      fill: '#ef4444',\r\n      stroke: '#000000',\r\n      strokeWidth: 2\r\n    });\r\n    \r\n    canvas.add(heart);\r\n    canvas.setActiveObject(heart);\r\n    canvas.renderAll();\r\n  };\r\n\r\n  // Add diamond\r\n  const addDiamond = (x: number, y: number) => {\r\n    if (!canvas) return;\r\n    \r\n    const diamond = new fabric.Polygon([\r\n      { x: 0, y: -50 },\r\n      { x: 50, y: 0 },\r\n      { x: 0, y: 50 },\r\n      { x: -50, y: 0 }\r\n    ], {\r\n      left: x,\r\n      top: y,\r\n      fill: '#8b5cf6',\r\n      stroke: '#000000',\r\n      strokeWidth: 2\r\n    });\r\n    \r\n    canvas.add(diamond);\r\n    canvas.setActiveObject(diamond);\r\n    canvas.renderAll();\r\n  };\r\n\r\n  // Add hexagon\r\n  const addHexagon = (x: number, y: number) => {\r\n    if (!canvas) return;\r\n    \r\n    const hexagon = new fabric.Polygon([\r\n      { x: 0, y: -50 },\r\n      { x: 43, y: -25 },\r\n      { x: 43, y: 25 },\r\n      { x: 0, y: 50 },\r\n      { x: -43, y: 25 },\r\n      { x: -43, y: -25 }\r\n    ], {\r\n      left: x,\r\n      top: y,\r\n      fill: '#10b981',\r\n      stroke: '#000000',\r\n      strokeWidth: 2\r\n    });\r\n    \r\n    canvas.add(hexagon);\r\n    canvas.setActiveObject(hexagon);\r\n    canvas.renderAll();\r\n  };\r\n\r\n  // Add line\r\n  const addLine = (x: number, y: number) => {\r\n    if (!canvas) return;\r\n    \r\n    const line = new fabric.Line([0, 0, 100, 0], {\r\n      left: x,\r\n      top: y,\r\n      stroke: '#000000',\r\n      strokeWidth: 3\r\n    });\r\n    \r\n    canvas.add(line);\r\n    canvas.setActiveObject(line);\r\n    canvas.renderAll();\r\n  };\r\n\r\n  // Add canvas click listener\r\n  useEffect(() => {\r\n    if (canvas && isReady) {\r\n      canvas.on('mouse:down', handleCanvasClick);\r\n      \r\n      return () => {\r\n        canvas.off('mouse:down', handleCanvasClick);\r\n      };\r\n    }\r\n  }, [canvas, handleCanvasClick, isReady]);\r\n\r\n  return (\r\n    <div className=\"flex-1 bg-gray-100 flex items-center justify-center overflow-hidden\">\r\n      <div className=\"bg-white shadow-lg rounded-lg p-4\">\r\n        <canvas\r\n          ref={canvasRef}\r\n          className=\"border border-gray-300\"\r\n          style={{\r\n            maxWidth: '100%',\r\n            maxHeight: '100%',\r\n            cursor: activeTool === 'select' ? 'default' : 'crosshair'\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Canvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}